{"version":3,"sources":["utils/compress.js","utils/utils.js","utils/DataAccess/DALimpotx.js","utils/DataAccess/localData.js","HoC/allowRedirect.jsx","HoC/impoHOC.js","assets/jss/material-kit-react/impotXYZ.jsx","utils/auth.js","components/CustomButtons/Button.jsx","components/Header/HeaderLinks.jsx","components/Header/Header.jsx","assets/jss/material-kit-react/components/footerStyle.jsx","components/Footer/Footer.jsx","components/Parallax/Parallax.jsx","../node_modules/uuid/v4.js","../node_modules/uuid/lib/rng-browser.js","../node_modules/uuid/lib/bytesToUuid.js","../node_modules/lodash.throttle/index.js"],"names":["canvasEncode","_x","_x2","_x3","_canvasEncode","apply","this","arguments","_callee4","shouldCompress","file","cb","quality","type","_args4","regenerator_default","a","wrap","_context4","prev","next","length","undefined","abrupt","Promise","_ref","Object","asyncToGenerator","mark","_callee3","resolve","reject","img","canvasCopy","copyContext","_context3","Image","document","createElement","getContext","onload","_callee2","blob","dataUrl","result","outputType","binaryStr","data","i","_context2","width","height","drawImage","toBlob","_ref3","_callee","_context","utils","log","stop","_x6","toDataURL","exec","atob","Uint8Array","charCodeAt","Blob","src","preview","_x4","_x5","reponses","questions","lstIdentityQuestionIdPerso","listeners","callEvent","event","params","values","forEach","_evDebouncer","thSet","debounce","that","_unmounted","setState","_debouncedState","leading","trailing","toWebP","imgUrl","canUseWebP","imgParts","split","pop","push","join","cached","localData","getStorage","elem","indexOf","setStorage","test","isDev","process","console","__webpack_exports__","groupBy","xs","key","reduce","rv","x","downloadCSV","args","filename","link","csv","ctr","keys","columnDelimiter","lineDelimiter","item","convertArrayOfObjectsToCSV","match","encodeURI","setAttribute","click","isProd","str","isChatActive","isAnneesActive","isDocsActive","escapeRegExp","string","replace","replaceBR","newStr","ret","react_default","Fragment","replaceA","reg","arr","splited","txt","href","target","isNumeric","n","isNaN","parseFloat","isFinite","combineUrl","path1","path2","error","endsWith","startsWith","subString","memorySizeOf","obj","bytes","toFixed","formatByteSize","sizeOf","objClass","prototype","toString","call","slice","hasOwnProperty","lateEnoughAfterNo","Date","now","sec","testPermission","cbPrompt","cbGranted","cbDenied","_this","navigator","permissions","query","name","then","res","state","refreshQuestions","pQuestions","Array","isArray","qst","idperso","refreshReponses","reps","DAL","getReponses","rep","question","QuestionIdPersoToChoixRep","questionIdPerso","def","qstACharge","_id","choixdereponse","find","ch","parseInt","texte","urlBase64ToUint8Array","base64String","base64","repeat","rawData","window","outputArray","keepOnlyLatestRep","existingRep","sort","b","createdAt","filter","exists","some","annee","stableSort","array","cmp","stabilizedThis","map","el","index","order","filtreOnlyIdentityQuestion","isIdentityQuestion","repString","getReponse","id","reptype","date","numero","repToString","tryAndTryAgain","fn","delay","callback","ex","getCatTitre","getDepenses","dep","getFeuillets","titre","myCompare","obj1","obj2","lstParams","every","param","pdfUrlReform","url","isPDF","substring","addListener","removeListener","throttledCallEvent","ev","val","value","throttledSetState","objectSpread","getFB","fbData","k","shorterString","len","endChar","todo","utils_utils__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","utils_DataAccess_DALimpotx_js__WEBPACK_IMPORTED_MODULE_1__","_ongoingQueries","storage","clearCache","_cache","clearStorage","localStorage","getItem","removeItem","clearAppStorage","clear","get","nullValue","set","JSON","parse","setItem","stringify","checkLocalDataAdmin","cacheName","DALfn","getQuestions","allowRedirect","WrappedComponent","PageName","_React$Component","inherits","_class","_super","_createSuper","props","classCallCheck","handleRedirect","bind","assertThisInitialized","createClass","redirect","_this2","forceUpdate","Redirect","to","assign","setRedirect","React","Component","mergedHOC","rawComp","p2","p3","impotStyle","mainRaised","margin","paddingBottom","borderRadius","boxShadow","@media (max-width: 500px)","mainContentMargin","auth","clearToken","clearUserInfo","showToast","msg","time","messages","newId","uuidv4","text","concat","F_Code_GitHub_LudoPortfolio_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getToast","getAllToasts","removeToast","getScrollTarget","setScrollTarget","refreshSelectedUser","getToken","tokenKey","getUserInfo","userInfo","setToken","isLocalStorage","setUserInfo","doc","addRep","newRep","usr","oldRep","isAdmin","token","curUsr","role","roleName","isSuperAdmin","getActiveUserId","getActiveAdminId","isFr","authLang","qstLang","Button","children","F_Code_GitHub_LudoPortfolio_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","Transition","Slide","direction","isUser","WithMobx","observer","store","useStore","useEffect","replacesStickyHeader","Header_Header","stickyReplace","Header","classes","color","leftLinks","fixed","absolute","rightLinks","stickyHidden","defaultProp","primaryColor","container","Footer","handleChange","newVal","defineProperty","setTimeout","selectVal","getSavedLanguage","translatedTxt","setLanguage","language","_classNames","_classNames2","_this$props","whiteFont","footerClasses","classNames","footer","footerWhiteFont","aClasses","className","left","list","inlineBlock","block","AboutUs","native","inheritColor","style","padding","onChange","inputProps","right","getYear","MadeBy","Parallax","scrollTopRatio","resetTransform","getScrollRatio","windowScrollTop","pageYOffset","transform","scrollBonusRatio","shrinkTarget","parallaxRatio","addEventListener","shrinkDuration","shrinkStartId","startTime","clearTimeout","shrinkAnim","setInterval","ratioDone","clearInterval","shrinkDelay","removeEventListener","image","small","xsmall","withGreen","parallaxClasses","parallax","backgroundImage","ref","background","position","top","textAlign","zIndex","defaultProps","rng","bytesToUuid","module","exports","options","buf","offset","rnds","random","ii","getRandomValues","crypto","msCrypto","rnds8","r","Math","byteToHex","substr","bth","global","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","freeSelf","self","root","Function","objectToString","nativeMax","max","nativeMin","min","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","TypeError","invokeFunc","thisArg","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","remainingWait","debounced","isInvoking","leadingEdge","toNumber","isObject","cancel","flush","isObjectLike","isSymbol","other","valueOf","isBinary"],"mappings":"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","file":"static/js/2.e72a94d1.chunk.js","sourcesContent":["\r\nimport utils from './utils';\r\n\r\nexport async function canvasEncode(shouldCompress, file, cb, quality = 25, type = \"image/jpeg\") {\r\n  return new Promise(async (resolve, reject) => {\r\n    if (!shouldCompress) {\r\n      await cb(file);\r\n      resolve();\r\n      return;\r\n    } else {\r\n      var img = new Image();\r\n      var canvasCopy = document.createElement(\"canvas\");\r\n      var copyContext = canvasCopy.getContext(\"2d\");\r\n\r\n      img.onload = async function () {\r\n\r\n        canvasCopy.width = img.width;\r\n        canvasCopy.height = img.height;\r\n        copyContext.drawImage(img, 0, 0);\r\n\r\n\r\n        let blob;\r\n\r\n        if ('toBlob' in canvasCopy) {\r\n          canvasCopy.toBlob(async (blob) => {\r\n            utils.log(blob);\r\n\r\n            await cb(blob);\r\n            resolve();\r\n          }, type, quality / 100);\r\n        } else {\r\n          // Welcome to Edge.\r\n          // TypeScript thinks `canvas` is 'never', so it needs casting. => (canvas as HTMLCanvasElement).toDataURL(type, quality);\r\n          const dataUrl = canvasCopy.toDataURL(type, quality / 100);\r\n          const result = /data:([^;]+);base64,(.*)$/.exec(dataUrl);\r\n\r\n          const outputType = result[1];\r\n          const binaryStr = atob(result[2]);\r\n          const data = new Uint8Array(binaryStr.length);\r\n\r\n          for (let i = 0; i < data.length; i += 1) {\r\n            data[i] = binaryStr.charCodeAt(i);\r\n          }\r\n\r\n          blob = new Blob([data], { type: outputType });\r\n          cb(blob);\r\n         resolve();\r\n        }\r\n      };\r\n      img.src = file.preview;\r\n    }\r\n  });\r\n}\r\n\r\nexport default {\r\n  canvasEncode\r\n};","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\nimport React from \"react\";\r\n\r\nimport debounce from \"lodash.debounce\";\r\n\r\nimport DAL from \"utils/DataAccess/DALimpotx.js\";\r\nimport localData from \"utils/DataAccess/localData.js\";\r\n\r\nimport { canvasEncode } from \"./compress\";\r\n\r\nvar reponses = {};\r\nvar questions = {};\r\n\r\n\r\nfunction refreshReponses() {\r\n  var reps = DAL.getReponses();\r\n  reponses = {};\r\n  if (reps) {\r\n    reponses = reps.reduce((ret, rep) => {\r\n      ret[rep.question] = rep;\r\n      return ret;\r\n    }, {});\r\n  }\r\n}\r\n\r\nfunction refreshQuestions(pQuestions) {\r\n  if (Array.isArray(pQuestions)) {\r\n    questions = pQuestions.reduce((ret, qst) => {\r\n      ret[qst.idperso] = qst;\r\n      return ret;\r\n    }, {});\r\n  } else {\r\n    questions = pQuestions;\r\n  }\r\n}\r\n\r\nfunction QuestionIdPersoToChoixRep(questionIdPerso, def) {\r\n  var ret = def;\r\n  var qstACharge = questions[questionIdPerso];\r\n  if (qstACharge) {\r\n    var rep = reponses[qstACharge._id]; // Contient l'id de la réponse mais pas le texte\r\n    if (rep) {\r\n      rep = qstACharge.choixdereponse.find(ch => ch._id === rep.choixdereponse);\r\n      if (rep) {\r\n        if (\"np-personnes-a-charge\" === questionIdPerso)\r\n          ret = parseInt(rep.texte, 10);\r\n        else\r\n          ret = rep.texte;\r\n      }\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction urlBase64ToUint8Array(base64String) {\r\n  const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\r\n  const base64 = (base64String + padding)\r\n    .replace(/-/g, \"+\")\r\n    .replace(/_/g, \"/\");\r\n\r\n  const rawData = window.atob(base64);\r\n  const outputArray = new Uint8Array(rawData.length);\r\n\r\n  for (let i = 0; i < rawData.length; ++i) {\r\n    outputArray[i] = rawData.charCodeAt(i);\r\n  }\r\n  return outputArray;\r\n}\r\n\r\nfunction keepOnlyLatestRep(reponses) {\r\n  var existingRep = {};\r\n  var rep2 = reponses\r\n    .sort((a, b) => b.createdAt < a.createdAt ? -1 : 1);\r\n  var rep3 = rep2\r\n    .filter(rep => {\r\n      if (!(rep.question in existingRep))\r\n        existingRep[rep.question] = [];\r\n\r\n      var exists = existingRep[rep.question].some(annee => annee == rep.annee);\r\n      if (!exists) {\r\n        existingRep[rep.question].push(rep.annee)\r\n      }\r\n\r\n      return !exists;\r\n    });\r\n  return rep3;\r\n}\r\n\r\nfunction stableSort(array, cmp) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = cmp(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map(el => el[0]);\r\n}\r\n\r\n\r\nconst lstIdentityQuestionIdPerso = [\r\n  \"user-last-name\",\r\n  \"user-first-name\",\r\n  \"user-no-nas\",\r\n  \"corresp-language\",\r\n  \"user-moyen-de-comm\",\r\n  \"user-sex\",\r\n  \"user-tel-day\",\r\n  \"user-tel-evening\",\r\n  //adresse,\r\n];\r\n\r\n//const identityQuestionTitreRegex = RegExp(\"(\" + lstIdentityQuestionTitre.join(\"|\") + \")\", \"i\");\r\n\r\nfunction isIdentityQuestion(question) {\r\n  return lstIdentityQuestionIdPerso.indexOf(question.idperso) >= 0;\r\n  //return question.titre.match(identityQuestionTitreRegex);\r\n}\r\n\r\nfunction filtreOnlyIdentityQuestion(questions) {\r\n  return questions.filter(question => isIdentityQuestion(question))\r\n    .map(qst => {\r\n      qst.repString = repToString(qst);\r\n      return qst;\r\n    });\r\n}\r\n\r\nfunction repToString(question) {\r\n  var rep = DAL.getReponse(question.id);\r\n  var ret = \"\";\r\n  if (rep) {\r\n    if (question.choixdereponse && question.choixdereponse.length > 0) {\r\n      rep = question.choixdereponse.find(ch => ch.id === rep.choixdereponse);\r\n      ret = rep ? rep.texte : \"\";\r\n    }\r\n    else if (question.reptype === 1)\r\n      ret = rep.texte;\r\n    else if (question.reptype === 3)\r\n      ret = rep.date;\r\n    else if (question.reptype > 3)\r\n      ret = rep.numero + \"\";\r\n  }\r\n\r\n  if (ret.length === 0) return <i>non répondu</i>;\r\n\r\n  return ret;\r\n}\r\n\r\n\r\nfunction sortDate(a, b) {\r\n  return b.t > a.t ? -1 : 1;\r\n}\r\n\r\nfunction groupBy(xs, key) {\r\n  return xs.reduce(function (rv, x) {\r\n    (rv[x[key]] = rv[x[key]] || []).push(x);\r\n    return rv;\r\n  }, {});\r\n}\r\n\r\nfunction tryAndTryAgain(fn, delay, callback) {\r\n  if (!(delay)) delay = 123;\r\n  try {\r\n    if (callback) callback(fn());\r\n    else fn();\r\n  } catch (ex) {\r\n    var fnApplyStyle = () => {\r\n      setTimeout(() => {\r\n        try {\r\n          if (callback) callback(fn());\r\n          else fn();\r\n        } catch (ex) {\r\n          fnApplyStyle();\r\n        }\r\n      }, delay);\r\n    }\r\n  }\r\n}\r\n\r\nfunction myCompare(obj1, obj2, lstParams) {\r\n  return lstParams.every(param => obj1[param] == obj2[param]);\r\n  // TODO : allow to recurse compare children Objects\r\n}\r\n\r\nconst getCatTitre = id => (DAL.getDepenses().find(dep => dep.idperso == id)\r\n  || DAL.getFeuillets().find(dep => dep.idperso == id)\r\n  || { titre: id })\r\n  .titre;\r\n\r\n\r\n//CHANGE LANG LISTENERS\r\nvar listeners = {};\r\nfunction addListener(event, id, callback) {\r\n  if (!(event in listeners)) listeners[event] = {};\r\n  listeners[event][id] = callback;\r\n}\r\nfunction removeListener(event, id) {\r\n  if (event in listeners) {\r\n    delete listeners[event][id];\r\n  }\r\n}\r\nfunction callEvent(event, params) {\r\n  if (event in listeners) {\r\n    Object.values(listeners[event])\r\n      .forEach(cb => {\r\n        cb(params);\r\n      });\r\n  }\r\n}\r\n\r\nlet _evDebouncer = {};\r\nlet throttledCallEvent = (ev, val) => {\r\n  if (!_evDebouncer[ev])\r\n    _evDebouncer[ev] = debounce((value) => {\r\n      callEvent(ev, value);\r\n    }, 500, { leading: true, trailing: true });\r\n  _evDebouncer[ev](val);\r\n};\r\n\r\nvar thSet = debounce((that) => {\r\n    if(that._unmounted) return;\r\n    that.setState(that._debouncedState);\r\n    that._debouncedState = {}; \r\n}, 100, { leading: false, trailing: true });\r\n\r\nfunction throttledSetState(param) {\r\n  this._debouncedState = this._debouncedState || {};\r\n  this._debouncedState = { ...this._debouncedState, ...param };\r\n  thSet(this);\r\n}\r\n\r\nfunction testPermission(cbPrompt, cbGranted, cbDenied) {\r\n\r\n  if (navigator &&\r\n    navigator.permissions &&\r\n    navigator.permissions.query) {\r\n    navigator.permissions\r\n      .query({ name: \"notifications\" })\r\n      .then(res => {\r\n        this.log(\"Notifications : \" + res.state);\r\n        if (res.state === 'prompt') {\r\n          if (cbPrompt)\r\n            cbPrompt();\r\n        } else if (res.state === 'granted') {\r\n          if (cbGranted)\r\n            cbGranted();\r\n        }\r\n        else {\r\n          if (cbDenied)\r\n            cbDenied();\r\n        }\r\n      });\r\n  } else if (cbDenied) {\r\n    cbDenied();\r\n  }\r\n}\r\n\r\nfunction lateEnoughAfterNo() {\r\n  const sec = 1000;\r\n  const secInMin = 60;\r\n  const mininH = 60;\r\n  const HinD = 24;\r\n  const lastSaidNo = localData.getStorage(\"saidNoNotif\");\r\n  return !(lastSaidNo > Date.now() - sec * secInMin * mininH * HinD * 7);\r\n}\r\n\r\nfunction memorySizeOf(obj) {\r\n  var bytes = 0;\r\n\r\n  function sizeOf(obj) {\r\n    if (obj !== null && obj !== undefined) {\r\n      // eslint-disable-next-line\r\n      switch (typeof obj) {\r\n        case 'number':\r\n          bytes += 8;\r\n          break;\r\n        case 'string':\r\n          bytes += obj.length * 2;\r\n          break;\r\n        case 'boolean':\r\n          bytes += 4;\r\n          break;\r\n        case 'object':\r\n          var objClass = Object.prototype.toString.call(obj).slice(8, -1);\r\n          if (objClass === 'Object' || objClass === 'Array') {\r\n            for (var key in obj) {\r\n              if (!obj.hasOwnProperty(key)) continue;\r\n              sizeOf(obj[key]);\r\n            }\r\n          } else bytes += obj.toString().length * 2;\r\n          break;\r\n      }\r\n    }\r\n    return bytes;\r\n  };\r\n\r\n  function formatByteSize(bytes) {\r\n    if (bytes < 1024) return bytes + \" bytes\";\r\n    else if (bytes < 1048576) return (bytes / 1024).toFixed(3) + \" KiB\";\r\n    else if (bytes < 1073741824) return (bytes / 1048576).toFixed(3) + \" MiB\";\r\n    else return (bytes / 1073741824).toFixed(3) + \" GiB\";\r\n  };\r\n\r\n  return formatByteSize(sizeOf(obj));\r\n};\r\n\r\nfunction combineUrl(path1, path2) {\r\n  if (typeof (path1) !== \"string\" || typeof (path2) !== \"string\") {\r\n    console.error(\"Should be 2 strings to combine\");\r\n  }\r\n  if (path1.endsWith(\"/\")) {\r\n    if (path2.startsWith(\"/\"))\r\n      return path1 + path2.subString(1, path2.length);\r\n    else\r\n      return path1 + path2;\r\n  }\r\n  else {\r\n    if (path2.startsWith(\"/\"))\r\n      return path1 + path2;\r\n    else\r\n      return path1 + \"/\" + path2;\r\n  }\r\n}\r\n\r\nfunction isPDF(url) {\r\n  return url && /.*pdf/gi.test(url);\r\n}\r\n\r\nfunction pdfUrlReform(url) {\r\n  if (isPDF(url)) {\r\n    return url.substring(0, url.length - 3) + \"png\";\r\n  }\r\n  return url;\r\n}\r\n\r\nfunction isNumeric(n) {\r\n  return !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\n\r\nfunction toWebP(imgUrl) {\r\n  if (canUseWebP() && imgUrl) {\r\n    var imgParts = imgUrl.split(\".\");\r\n    imgParts.pop();\r\n    imgParts.push(\"webp\");\r\n    return imgParts.join(\".\");\r\n  }\r\n  return imgUrl;\r\n}\r\n\r\nfunction canUseWebP() {\r\n  var cached = localData.getStorage(\"SupportWebP\");\r\n  if (cached == null) {\r\n    var elem = document.createElement('canvas');\r\n\r\n    if (!!(elem.getContext && elem.getContext('2d'))) {\r\n      // was able or not to get WebP representation\r\n      cached = (elem.toDataURL('image/webp').indexOf('data:image/webp') == 0) ? \"yes\" : \"no\";\r\n      localData.setStorage(\"SupportWebP\", cached);\r\n    } else {\r\n      cached = \"no\";\r\n      localData.setStorage(\"SupportWebP\", cached);\r\n    }\r\n  }\r\n\r\n  return /yes/i.test(cached);\r\n}\r\n\r\nfunction replaceBR(str) {\r\n  var newStr = str.split(\"<br>\");\r\n  var ret = <>{newStr.pop()}</>;\r\n  while (newStr.length >= 1) {\r\n    ret = <>{newStr.pop()}<br />{ret}</>;\r\n  }\r\n  return ret;\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\r\nfunction replaceA(str){\r\n  let reg = /\\<a.*href=.(.*)\\\".*\\>(.*)<\\/a>/gi;\r\n\r\n  let arr = reg.exec(str);\r\n  //console.log(arr);\r\n\r\n  let splited = str.replace(reg, \"_a_\").split(\"_a_\");    \r\n  let ret = <></>;//<>{splited.pop()}</>;\r\n\r\n  if(splited.length >= 1){\r\n    while (splited.length >= 1 ) {\r\n      if( arr && arr.length > 2){\r\n        let txt = arr.pop();\r\n        let href = arr.pop();\r\n        let fullMatch = arr.pop();\r\n        ret = <>{<a href={href} target=\"_blank\">{txt}</a>}{splited.pop()}{ret}</>;\r\n      }else{\r\n        ret = <>{splited.pop()}{ret}</>;\r\n      }\r\n    }\r\n  }else{\r\n    ret = str;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction escapeRegExp(string) {\r\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole  matched string\r\n}\r\n\r\nconst isDev = () => /^dev.*/gi.test(process.env.NODE_ENV);\r\nconst isProd = () => !isDev();\r\nconst log = (str) => {\r\n  if (isDev()) {\r\n    console.log(str);\r\n  }\r\n};\r\nconst isChatActive = () => /true/gi.test(process.env.REACT_APP_ACTIVATE_CHAT);\r\n\r\nfunction convertArrayOfObjectsToCSV(args) {\r\n  var result, ctr, keys, columnDelimiter, lineDelimiter, data;\r\n\r\n  data = args.data || null;\r\n  if (data == null || !data.length) {\r\n    return null;\r\n  }\r\n\r\n  columnDelimiter = args.columnDelimiter || ',';\r\n  lineDelimiter = args.lineDelimiter || '\\n';\r\n\r\n  keys = Object.keys(data[0]);\r\n\r\n  result = '';\r\n  result += keys.join(columnDelimiter);\r\n  result += lineDelimiter;\r\n\r\n  data.forEach(function (item) {\r\n    ctr = 0;\r\n    keys.forEach(function (key) {\r\n      if (ctr > 0) result += columnDelimiter;\r\n\r\n      result += item[key];\r\n      ctr++;\r\n    });\r\n    result += lineDelimiter;\r\n  });\r\n\r\n  return result;\r\n}\r\nfunction downloadCSV(args) {\r\n  var data, filename, link;\r\n  var csv = convertArrayOfObjectsToCSV({ data });\r\n  if (csv == null) return;\r\n\r\n  filename = args.filename || 'export.csv';\r\n\r\n  if (!csv.match(/^data:text\\/csv/i)) {\r\n    csv = 'data:text/csv;charset=utf-8,' + csv;\r\n  }\r\n  data = encodeURI(csv);\r\n\r\n  link = document.createElement('a');\r\n  link.setAttribute('href', data);\r\n  link.setAttribute('download', filename);\r\n  link.click();\r\n}\r\nconsole.log(\"Utils.toWebP : \" + toWebP(\"imgTest.jpg\"));\r\nexport default {\r\n  groupBy,\r\n  downloadCSV,\r\n  isProd,\r\n  isDev,\r\n  log,\r\n  isChatActive,\r\n  isAnneesActive : () => false,\r\n  isDocsActive : () => false,///true/gi.test(process.env.REACT_APP_ACTIVATE_DOCS),\r\n  escapeRegExp,\r\n  replaceBR,\r\n  replaceA,\r\n  toWebP,\r\n  canUseWebP,\r\n  isNumeric,\r\n  combineUrl,\r\n  memorySizeOf,\r\n  lateEnoughAfterNo,\r\n  testPermission,\r\n  refreshQuestions,\r\n  refreshReponses,\r\n  QuestionIdPersoToChoixRep: QuestionIdPersoToChoixRep,\r\n  urlBase64ToUint8Array: urlBase64ToUint8Array,\r\n  keepOnlyLatestRep: keepOnlyLatestRep,\r\n  stableSort: stableSort,\r\n  filtreOnlyIdentityQuestion: filtreOnlyIdentityQuestion, \r\n  tryAndTryAgain: tryAndTryAgain,\r\n  getCatTitre: getCatTitre,\r\n  myCompare: myCompare,\r\n\r\n  pdfUrlReform,\r\n\r\n  addListener,\r\n  removeListener,\r\n  callEvent,\r\n  throttledCallEvent,\r\n  throttledSetState,\r\n\r\n  getFB: (fbData, key) => {\r\n    (\"database.state.\"+key).split(\".\").forEach(k=>{\r\n      if(fbData) fbData = fbData[k];\r\n    });\r\n    return fbData;\r\n  },\r\n\r\n  shorterString: (str, len, endChar = 3) => {\r\n    if(str.length > len)\r\n      return str.slice(0,len-(3+endChar)) + \"...\" + str.slice(-endChar);\r\n    else\r\n      return str;\r\n  },\r\n\r\n  canvasEncode\r\n};","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\n \r\n\r\n// Consider memoize libraries : https://itnext.io/how-i-wrote-the-worlds-fastest-react-memoization-library-535f89fc4a17\r\n// Here : https://github.com/theKashey/memoize-state\r\nconst DAL =  {\r\n  todo:\"All this\"\r\n} \r\n\r\n\r\nexport default DAL;\r\n","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\n\r\nimport utils from \"utils/utils\";\r\nimport DAL from \"utils/DataAccess/DALimpotx.js\";\r\n\r\n// Consider memoize libraries : https://itnext.io/how-i-wrote-the-worlds-fastest-react-memoization-library-535f89fc4a17\r\n// Here : https://github.com/theKashey/memoize-state\r\n\r\nvar _ongoingQueries = {};\r\n\r\nconst storage = {\r\n\r\n  clearCache(key) {\r\n    if (this._cache)\r\n      delete this._cache[key];\r\n  },\r\n\r\n  clearStorage(key) {\r\n    this.clearCache(key);\r\n\r\n    if (localStorage && localStorage.getItem(key)) {\r\n      return localStorage.removeItem(key);\r\n    }\r\n  },\r\n\r\n  clearAppStorage() {\r\n    this._cache = {};\r\n\r\n    if (localStorage) {\r\n      localStorage.clear();\r\n    }\r\n  },\r\n\r\n  get(key, nullValue) {\r\n    if (this._cache == null) this._cache = {};\r\n    if (this._cache[key] === null)\r\n      return nullValue;\r\n    return this._cache[key];\r\n  },\r\n\r\n  set(key, value) {\r\n    if (this._cache == null) this._cache = {};\r\n    this._cache[key] = value;\r\n  },\r\n\r\n  getStorage(key, nullValue) {\r\n    var ret = this.get(key);\r\n    if (ret) return ret;\r\n\r\n    if (localStorage) {\r\n      ret = localStorage.getItem(key);\r\n      if (ret) {\r\n        try {\r\n          ret = JSON.parse(ret);\r\n        } catch (ex) {\r\n          utils.log(ex);\r\n          ret = null;\r\n        }\r\n      }\r\n      this._cache[key] = ret;\r\n    }\r\n\r\n    if (ret === null)\r\n      return nullValue;\r\n    else\r\n      return ret;\r\n  },\r\n\r\n  setStorage(key, value) {\r\n    this.set(key, value);\r\n\r\n    if (localStorage) {\r\n      try{\r\n        localStorage.setItem(key, JSON.stringify(value));\r\n      }catch(ex){\r\n        console.error(ex);\r\n      }\r\n    }\r\n  },\r\n\r\n  checkLocalDataAdmin() {\r\n    //_checkAndGetDAL(\"getUsers\", DAL.getUsers);\r\n    _checkAndGetDAL(\"getQuestionsById\", DAL.getQuestions);\r\n  }\r\n\r\n}\r\n\r\nfunction _checkAndGetDAL(cacheName, DALfn) {\r\n  if (!(cacheName in localStorage) && !_ongoingQueries[cacheName]) {\r\n    DALfn(true)\r\n      .then(res => { delete _ongoingQueries[cacheName]; });\r\n    _ongoingQueries[cacheName] = Date.now();\r\n    utils.log(\"_check and get DAL : \" + cacheName + \" was not cached\");\r\n  }\r\n}\r\n\r\n\r\nexport default storage;\r\n","import React from \"react\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport utils from \"utils/utils\";\r\n\r\nfunction allowRedirect(WrappedComponent, PageName) {\r\n  return class extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n      };//remove comment\r\n\r\n      this.handleRedirect = this.handleRedirect.bind(this);\r\n    }\r\n\r\n    handleRedirect(target) {\r\n      this.setState({ redirect: target });\r\n    }\r\n\r\n    componentDidMount() {\r\n      utils.addListener(\"language\", PageName, (ev) => {\r\n        this.forceUpdate();\r\n      });\r\n    }\r\n    componentWillUnmount() {\r\n      utils.removeListener(\"language\", PageName);\r\n    }\r\n\r\n    render() {\r\n      if (this.state.redirect) {\r\n        return <Redirect to={this.state.redirect} />;\r\n      } else {\r\n        return <WrappedComponent setRedirect={this.handleRedirect} {...this.props} />;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nexport default allowRedirect;","import allowRedirect from \"./allowRedirect\";\r\n//import subscriptions from \"./subscriptions\";\r\n\r\nconst mergedHOC = (rawComp, PageName, p2, p3) => allowRedirect(rawComp, PageName);\r\n//subscriptions(allowRedirect(rawComp), p1,p2,p3);\r\n\r\nexport default mergedHOC;","const impotStyle = {  \r\n  mainRaised: {\r\n    margin: \"-60px 30px 0px\", \r\n    paddingBottom: \"20px\",\r\n    borderRadius: \"6px\",\r\n    boxShadow:\r\n      \"0 16px 24px 2px rgba(0, 0, 0, 0.14), 0 6px 30px 5px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)\",\r\n      \"@media (max-width: 500px)\": {\r\n        margin: \"-60px 0px 0px\",\r\n      },\r\n  },\r\n\r\n  mainContentMargin: {\r\n    margin:30,\r\n    \"@media (max-width: 500px)\": {\r\n      margin: 5,\r\n    },\r\n  }\r\n};\r\n\r\nexport default impotStyle;\r\n","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\nimport utils from \"./utils.js\";\r\nimport localData from \"./DataAccess/localData.js\";\r\nimport uuidv4 from 'uuid/v4';\r\n \r\n\r\nconst TOKEN_KEY = 'jwtToken'; \r\nconst USER_INFO = 'userInfo';\r\n\r\n\r\nconst auth = {\r\n  get() {\r\n    return localData.get.apply(localData, arguments);\r\n  },\r\n  set() {\r\n    localData.set.apply(localData, arguments);\r\n  },\r\n  clearAppStorage() {\r\n    localData.clearAppStorage();\r\n  },\r\n  clearToken() {\r\n    localData.clearStorage(TOKEN_KEY); \r\n  },\r\n  clearUserInfo() {\r\n    localData.clearStorage(USER_INFO);\r\n  },\r\n  //// Messagse Toast / Snackbar \r\n  // primary, warning, danger\r\n  showToast(msg, time, type) {\r\n    if (!time) time = 3000;\r\n    if (!type) type = \"primary\";\r\n    var messages = localData.get(\"snackMessages\", true);\r\n    if (!messages) messages = [];\r\n    var newId = uuidv4();\r\n    messages = [{ text: msg, type: type, time: time, id: newId }, ...messages];\r\n    localData.set(\"snackMessages\", messages);\r\n    return newId;\r\n  },\r\n\r\n  getToast() {\r\n    var messages = localData.get(\"snackMessages\", true);\r\n    if (!messages) messages = [];\r\n    return messages[messages.length - 1];\r\n  },\r\n  getAllToasts() {\r\n    var messages = localData.get(\"snackMessages\", true);\r\n    if (!messages) messages = [];\r\n    return messages;\r\n  },\r\n\r\n  removeToast(id) {\r\n    var messages = localData.get(\"snackMessages\", true);\r\n    if (!messages) messages = [];\r\n    localData.set(\"snackMessages\", messages.filter(msg => msg.id != id));\r\n  },\r\n\r\n  getScrollTarget() {\r\n    return localData.get(\"scrollTarget\");\r\n  },\r\n  setScrollTarget(value) {\r\n    localData.set(\"scrollTarget\", value);\r\n  },\r\n\r\n  refreshSelectedUser() {\r\n    /* if(this.get(\"selectedUser\"))\r\n     {\r\n       return DAL.findUser(this.get(selectedUser).id)\r\n       .then(res=>{\r\n         this.set(\"selectedUser\", res);\r\n         return \"ok\";\r\n       });\r\n     }\r\n     return null;*/\r\n  },\r\n  getToken(tokenKey = TOKEN_KEY) {\r\n    return localData.getStorage(tokenKey);\r\n  }, \r\n  getUserInfo(userInfo = USER_INFO) {\r\n    return localData.getStorage(userInfo);\r\n  },\r\n\r\n\r\n  setToken(value = '', isLocalStorage = false, tokenKey = TOKEN_KEY) {\r\n    return localData.setStorage(tokenKey, value, isLocalStorage);\r\n  }, \r\n  setUserInfo(value = {}, isLocalStorage = false, userInfo = USER_INFO) {\r\n    try {\r\n      if (value &&\r\n        value.reponses) {\r\n        utils.log(\"Rep Before filtered : \" + value.reponses.length);\r\n        value.reponses = utils.keepOnlyLatestRep(value.reponses);\r\n        utils.log(\"Rep After filtered : \" + value.reponses.length);\r\n\r\n        if (!utils.isDocsActive()) {\r\n          value.messages = value.messages.filter(msg => !msg.doc)\r\n        }\r\n      }\r\n      value.id = value.id || value._id;\r\n      localData.setStorage(\"currentUserId\", value.id);\r\n    } catch (ex) { }\r\n    var ret = localData.setStorage(userInfo, value);\r\n\r\n    return ret;\r\n  },\r\n\r\n  addRep(newRep) { // now adding the real, inserted rep\r\n    var usr = this.getUserInfo();\r\n    var rep = usr.reponses\r\n      .filter(oldRep => oldRep.question !== newRep.question);\r\n    rep.push(newRep);\r\n    usr.reponses = rep;\r\n    if (!this.isAdmin()) {\r\n      this.setUserInfo(usr, true);\r\n    }\r\n  },\r\n\r\n  isAdmin() {\r\n    let token = this.getToken();\r\n    let curUsr = this.getUserInfo();\r\n    let role = curUsr && curUsr.role;\r\n    let roleName = role && role.name;\r\n    return token && roleName && /(Administrator|Comptable)/i.test(roleName);\r\n  },\r\n\r\n  isSuperAdmin() {\r\n    let token = this.getToken();\r\n    let curUsr = this.getUserInfo();\r\n    let role = curUsr && curUsr.role;\r\n    let roleName = role && role.name;\r\n    return token && roleName && /(Administrator)/i.test(roleName);\r\n  },\r\n\r\n  getActiveUserId() {\r\n    if (auth.isAdmin()) {\r\n      //let selUsr = localData.getStorage(\"selectedUser\");\r\n      //return selUsr ? selUsr._id : \"\";\r\n      return localData.getStorage(\"currentUserId\");\r\n    } else {\r\n      var userInfo = auth.getUserInfo();\r\n      return userInfo ? userInfo._id : \"\";\r\n    }\r\n  },\r\n  getActiveAdminId() {\r\n    if (auth.isAdmin()) {\r\n      return auth.getUserInfo()._id;\r\n    } else {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  isFr() {\r\n    var authLang = localData.get(\"prefLang\");\r\n    var qstLang = utils.QuestionIdPersoToChoixRep(\"corresp-language\", \"Francais\");\r\n\r\n    var selected = authLang || qstLang || \"Français\";\r\n\r\n    return /.*fr.*/i.test(selected);\r\n  },\r\n\r\n}\r\n\r\n\r\nexport default auth;\r\n","import React from \"react\"; \r\nimport classNames from \"classnames\"; \r\nimport PropTypes from \"prop-types\";  \r\n \r\nconst  Button = ({children, ...props}) => {\r\n    \r\n    return <button {...props} >{children}</button>\r\n  }\r\n\r\nexport default Button;","/*eslint-disable*/\r\nimport React, { Fragment } from \"react\";\r\n// react components for routing our app without refresh\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport impoHOC from \"HoC/impoHOC.js\";\r\n \r\n\r\n// core components \r\nimport Button from \"components/CustomButtons/Button.jsx\";\r\n\r\nimport headerLinksStyle from \"assets/jss/material-kit-react/components/headerLinksStyle.jsx\";\r\n \r\n// Utils\r\nimport auth from 'utils/auth';\r\nimport utils from 'utils/utils';\r\nimport DAL from \"utils/DataAccess/DALimpotx\";\r\nimport translatedTxt from 'texts/localization';  \r\n\r\nfunction Transition(props) {\r\n  return <Slide direction=\"down\" {...props} />;\r\n}\r\n\r\nfunction isUser() {\r\n  // console.log(auth.getUserInfo());\r\n  return auth.getToken() && !auth.isAdmin();\r\n  //return auth.getToken() && !auth.getUserInfo().role.name.match(/(Administrator|Comptable)/i);\r\n}\r\n \r\n\r\nclass HeaderLinks extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // const { classes } = props;\r\n\r\n    this.state = {\r\n      classicModal: false,\r\n      redirect: null,\r\n      notifOpen: false,\r\n      notifCount: 1,\r\n      usersOnline: 0, \r\n    };\r\n\r\n    this.getLoginModal = this.getLoginModal.bind(this);\r\n    this.renderRedirects = this.renderRedirects.bind(this);\r\n  }\r\n\r\n  handleClickOpen(modal) {\r\n    if (auth.getToken()) {\r\n      utils.callEvent(\"Logout\");\r\n      auth.clearAppStorage();\r\n      var loc = this.props.Location || this.props.location || window.location.href;\r\n      loc = loc.split(\".com\").pop().split(\":3000\").pop();\r\n      if (loc.length > 1) {\r\n        this.setState({ redirect: \"/\" });\r\n      }\r\n      else {\r\n        if(this.props.onLogout)\r\n          {\r\n            utils.callEvent(\"Logout\");\r\n            this.props.onLogout();\r\n          }\r\n      }\r\n      auth.showToast(translatedTxt.toastBye, null, \"info\");\r\n    } else {\r\n      var x = [];\r\n      x[modal] = true;\r\n      this.setState(x);\r\n    }\r\n  }\r\n\r\n  handleClose(modal) {\r\n    var x = [];\r\n    x[modal] = false;\r\n    this.setState(x);\r\n  }\r\n\r\n  handleCloseModal() {\r\n    if (!this._isClosing) {\r\n      this.setState({ classicModal: false });\r\n    }\r\n  } \r\n  componentWillUnmount() {\r\n    this._isClosing = true;\r\n    utils.removeListener(\"userSentMessage\", \"headerLinks\");\r\n  }\r\n\r\n  renderRedirects() {\r\n    if (this.state.redirectTarget) {\r\n      return <Redirect to={\"/\" + this.state.redirectTarget} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getLoginModal(classes) {\r\n    return (\r\n      <div>\r\n        {this.renderRedirects()}\r\n        <Button\r\n          color=\"primary\"\r\n          block\r\n          onClick={() => this.handleClickOpen(\"classicModal\")}\r\n        >\r\n          <People />\r\n          {auth.getToken() ? translatedTxt.headLogout : translatedTxt.headLogin}\r\n        </Button>\r\n        <Dialog\r\n          classes={{\r\n            root: classes.center,\r\n            paper: classes.modal\r\n          }}\r\n          open={this.state.classicModal}\r\n          TransitionComponent={Transition}\r\n          keepMounted\r\n          onClose={() => this.handleClose(\"classicModal\")}\r\n          aria-labelledby=\"classic-modal-slide-title\"\r\n          aria-describedby=\"classic-modal-slide-description\"\r\n        >\r\n\r\n          <DialogContent\r\n            id=\"classic-modal-slide-description\"\r\n            className={classes.modalBody}\r\n          > \r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    if (this.state.redirect) return <Redirect to={this.state.redirect} />;\r\n\r\n    var isDev =  /^dev.*/gi.test(process.env.NODE_ENV);\r\n    var styleDisableTwitter = isDev ? {} : { pointerEvents: 'none', color:\"#aaa\" };\r\n    \r\n    utils.log(styleDisableTwitter);\r\n    \r\n    return (\r\n      <List className={classes.list}>\r\n \r\n\r\n        {(isUser() && utils.isDocsActive())&& (\r\n          <ListItem className={classes.listItem}>\r\n            <Link to=\"/docs-page\"\r\n              className={classes.navLink}\r\n              style={{ textDecoration: 'none' }}>\r\n              Documents\r\n            </Link>\r\n          </ListItem>)}\r\n\r\n        {isUser() && (\r\n          <ListItem className={classes.listItem}>\r\n            <Link to=\"/questions-page\"\r\n              className={classes.navLink}\r\n              style={{ textDecoration: 'none' }}>\r\n              Questions\r\n            </Link>\r\n          </ListItem>)}\r\n   \r\n\r\n        {auth.isAdmin() && (\r\n          <ListItem className={classes.listItem}>\r\n            <Link to=\"/find-user-page\"\r\n              className={classes.navLink}\r\n              style={{ textDecoration: 'none' }}>\r\n              {translatedTxt.headFindUser}\r\n            </Link>\r\n          </ListItem>)}\r\n\r\n        {isUser() && (\r\n          <ListItem className={classes.listItem}>\r\n            <Link to=\"/user-profile-page\"\r\n              className={classes.navLink}\r\n              style={{ textDecoration: 'none' }}>\r\n              {translatedTxt.headmonProfile}\r\n            </Link>\r\n          </ListItem>)}\r\n\r\n        <ListItem className={classes.listItem}>\r\n          {this.getLoginModal(classes)}\r\n        </ListItem>\r\n\r\n{isDev && \r\n        <ListItem className={classes.listItem}>\r\n          <Tooltip\r\n            id=\"instagram-twitter\"\r\n            title=\"Follow us on twitter\"\r\n            placement={window.innerWidth > 959 ? \"top\" : \"left\"}\r\n            classes={{ tooltip: classes.tooltip }}\r\n          >\r\n            <Link\r\n              to=\"/component-page\"\r\n              color=\"transparent\"\r\n              className={classes.navLink}\r\n              aria-label=\"tweeter\"\r\n              style={styleDisableTwitter}\r\n            >\r\n              <i className={classes.socialIcons + \" fab fa-twitter\"} />\r\n            </Link>\r\n          </Tooltip>\r\n        </ListItem>}\r\n         \r\n        {isDev && \r\n        <ListItem className={classes.listItem}>\r\n          <Tooltip\r\n            id=\"instagram-facebook\"\r\n            title=\"Follow us on facebook\"\r\n            placement={window.innerWidth > 959 ? \"top\" : \"left\"}\r\n            classes={{ tooltip: classes.tooltip }}\r\n          >\r\n            <Button\r\n              color=\"transparent\"\r\n              href=\"https://www.facebook.com/CreativeTim\"\r\n              target=\"_blank\"\r\n              className={classes.navLink}\r\n              disabled\r\n              aria-label=\"Facebook\"\r\n            >\r\n              <i className={classes.socialIcons + \" fab fa-facebook\"} />\r\n            </Button>\r\n          </Tooltip>\r\n        </ListItem>}\r\n      </List>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default (HeaderLinks);\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\"; \r\n\r\n//Image Logo \r\nimport HeaderLinks from \"components/Header/HeaderLinks.jsx\";\r\n\r\nimport utils from \"utils/utils\";\r\nimport { useStore } from 'utils/mobx/ConfigStore';\r\nimport { observer } from 'mobx-react-lite';\r\n//TODO Ludovic : Ajouter MobX pour que Qst List lui dise quand se cacher \r\n\r\nimport throttle from 'lodash.throttle';\r\nimport { useEffect } from \"react\";\r\n\r\nconst WithMobx = observer((props) => {\r\n  const store = useStore()\r\n  useEffect(() => {\r\n    console.log(store.replacesStickyHeader)\r\n  }, [store.replacesStickyHeader])\r\n\r\n  return <Header {...props} stickyReplace={store.replacesStickyHeader} />\r\n})\r\n\r\nconst Header = (props) => {\r\n\r\n  const {\r\n    classes,\r\n    color,\r\n    leftLinks,\r\n    //brand,\r\n    fixed,\r\n    absolute,\r\n    stickyReplace\r\n  } = props;\r\n  const rightLinks = props.rightLinks || <HeaderLinks onLogout={()=>{}} />; \r\n  let ifSticky = stickyReplace ? \" \" + classes.stickyHidden : \"\";\r\n\r\n  return (\r\n    <div>\r\n      TODO : My header\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nHeader.defaultProp = {\r\n  color: \"white\"\r\n};\r\n\r\nHeader.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  color: PropTypes.oneOf([\r\n    \"primary\",\r\n    \"info\",\r\n    \"success\",\r\n    \"warning\",\r\n    \"danger\",\r\n    \"transparent\",\r\n    \"white\",\r\n    \"rose\",\r\n    \"dark\"\r\n  ]),\r\n  rightLinks: PropTypes.node,\r\n  leftLinks: PropTypes.node,\r\n  brand: PropTypes.string,\r\n  fixed: PropTypes.bool,\r\n  absolute: PropTypes.bool, \r\n  changeColorOnScroll: PropTypes.shape({\r\n    height: PropTypes.number.isRequired,\r\n    color: PropTypes.oneOf([\r\n      \"primary\",\r\n      \"info\",\r\n      \"success\",\r\n      \"warning\",\r\n      \"danger\",\r\n      \"transparent\",\r\n      \"white\",\r\n      \"rose\",\r\n      \"dark\"\r\n    ]).isRequired\r\n  })\r\n};\r\n\r\nexport default  (WithMobx);\r\n","import { container, primaryColor } from \"assets/jss/material-kit-react.jsx\";\r\n\r\nconst footerStyle = {\r\n  block: {\r\n    color: \"inherit\",\r\n    padding: \"0.9375rem\",\r\n    fontWeight: \"500\",\r\n    fontSize: \"12px\",\r\n    textTransform: \"uppercase\",\r\n    borderRadius: \"3px\",\r\n    textDecoration: \"none\",\r\n    position: \"relative\",\r\n    display: \"block\",\r\n    \"@media (max-width: 350px)\": { \r\n      padding: \"5px 10px\",\r\n    },\r\n  },\r\n  left: {\r\n    float: \"left!important\",\r\n    display: \"block\"\r\n  },\r\n  right: {\r\n    margin: \"0\",\r\n    \"@media (min-width: 460px)\": { \r\n      padding: \"15px 0\",\r\n      float: \"right!important\",\r\n    },\r\n    \"@media (max-width: 350px)\": { \r\n      padding: 0,\r\n      float: \"none\",\r\n      display:\"inline-block\"\r\n    },\r\n  },\r\n  footer: {\r\n    padding: \"0.9375rem 0\",\r\n    textAlign: \"center\",\r\n    display: \"flex\",\r\n    zIndex: \"2\",\r\n    position: \"relative\"\r\n  },\r\n  a: {\r\n    color: primaryColor,\r\n    textDecoration: \"none\",\r\n    backgroundColor: \"transparent\"\r\n  },\r\n  inheritColor:{\r\n    color: \"inherit\",\r\n  },\r\n  footerWhiteFont: {\r\n    \"&,&:hover,&:focus\": {\r\n      color: \"#FFFFFF\"\r\n    }\r\n  },\r\n  container,\r\n  list: {\r\n    marginBottom: \"0\",\r\n    padding: \"0\",\r\n    marginTop: \"0\"\r\n  },\r\n  inlineBlock: {\r\n    display: \"inline-block\",\r\n    padding: \"0px\",\r\n    width: \"auto\"\r\n  },\r\n  icon: {\r\n    width: \"18px\",\r\n    height: \"18px\",\r\n    position: \"relative\",\r\n    top: \"3px\"\r\n  }\r\n};\r\nexport default footerStyle;\r\n","/*eslint-disable*/\r\nimport React from \"react\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n\r\n// @material-ui/icons\r\n//import Favorite from \"@material-ui/icons/Favorite\";\r\n\r\nimport footerStyle from \"assets/jss/material-kit-react/components/footerStyle.jsx\";\r\n \r\nimport auth from \"utils/auth.js\";\r\nimport utils from \"utils/utils.js\";\r\nimport localData from 'utils/DataAccess/localData';\r\nimport translatedTxt from 'texts/localization';\r\n\r\n\r\nclass Footer extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var selectVal = this.getSavedLanguage();\r\n\r\n    translatedTxt.setLanguage(selectVal);\r\n\r\n    this.state = {\r\n      language: selectVal\r\n    };\r\n\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n\r\n  handleChange = name => event => {\r\n    var newVal = event.target.value;\r\n    this.setState({ [name]: newVal });\r\n    if (newVal != \"\") {\r\n      localData.setStorage(\"prefLang\", newVal);\r\n      setTimeout(() => utils.callEvent(\"language\"), 100);\r\n    }\r\n    //TODO : Comment reloader tous les texts?\r\n  }\r\n\r\n  getSavedLanguage() {\r\n    return auth.isFr() ? \"fr\" : \"en\";\r\n  }\r\n\r\n  render() {\r\n    let  { classes, whiteFont } = this.props;\r\n\r\n    if(classes == null) classes = {};\r\n\r\n    const footerClasses = classNames({\r\n      [classes.footer]: true,\r\n      [classes.footerWhiteFont]: whiteFont\r\n    });\r\n    const aClasses = classNames({\r\n      [classes.a]: true,\r\n      [classes.footerWhiteFont]: whiteFont\r\n    });\r\n\r\n    translatedTxt.setLanguage(this.getSavedLanguage());\r\n    return (\r\n      <footer className={footerClasses}>\r\n        <div className={classes.container}>\r\n          <div className={classes.left}>\r\n            <ul className={classes.list}>\r\n              <li className={classes.inlineBlock}>\r\n                <a\r\n                  href=\"https://www.gnitic.com/\"\r\n                  className={classes.block}\r\n                  target=\"_blank\"\r\n                >\r\n                  Gnitic\r\n              </a>\r\n              </li>\r\n              <li className={classes.inlineBlock}>\r\n                <a\r\n                  href=\"/about-us\"\r\n                  className={classes.block}\r\n                  target=\"_blank\"\r\n                >\r\n                  {translatedTxt.AboutUs}\r\n                </a>\r\n              </li>\r\n\r\n              {/* /}\r\n                <ListItem className={classes.inlineBlock}>\r\n                  <a\r\n                    href=\"http://impotx.com/FAQ\"\r\n                    className={classes.block}\r\n                    target=\"_blank\"\r\n                  >\r\n                {translatedTxt.FAQ}\r\n              </a>\r\n                </ListItem>\r\n                {/* */}\r\n\r\n              <li className={classes.inlineBlock}>\r\n                <select\r\n                  native\r\n                  className={classes.inheritColor}\r\n                  style={{ width: \"100%\", padding:\"0px 0px 0px 10px\" }}\r\n                  value={this.state.language}\r\n                  onChange={this.handleChange('language')}\r\n                  inputProps={{\r\n                    name: 'language',\r\n                    id: 'pref-lang',\r\n                  }}\r\n                >\r\n                  <option value=\"\">Langue</option>\r\n                  <option value=\"fr\">Français</option>\r\n                  <option value=\"en\">English</option>\r\n                </select>\r\n              </li>\r\n\r\n            </ul>\r\n          </div>\r\n          <div className={classes.right}>\r\n            &copy; {1900 + new Date().getYear()} , {translatedTxt.MadeBy}\r\n            <a\r\n              href={process.env.REACT_APP_SERVER_URL}\r\n              className={aClasses}\r\n              target=\"_blank\"\r\n            >\r\n              Gnitic\r\n          </a>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nFooter.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  whiteFont: PropTypes.bool\r\n};\r\n\r\nexport default (Footer);\r\n","import React from \"react\"; \r\nimport classNames from \"classnames\"; \r\nimport PropTypes from \"prop-types\";  \r\n \r\nimport parallaxStyle from \"assets/jss/material-kit-react/components/parallaxStyle.jsx\";  \r\n\r\nclass Parallax extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {  scrollTopRatio: 0  };\r\n\r\n    this.resetTransform = this.resetTransform.bind(this);\r\n    this.getScrollRatio = this.getScrollRatio.bind(this);\r\n\r\n    var windowScrollTop = window.pageYOffset / this.getScrollRatio();\r\n    this.state = {\r\n      transform: \"translate3d(0,\" + windowScrollTop + \"px,0)\",\r\n      scrollTopRatio:0\r\n    };\r\n  }\r\n  getScrollRatio(){\r\n    var scrollBonusRatio = this.state.scrollTopRatio || 0;\r\n    var target = this.props.shrinkTarget|| 0;\r\n    \r\n    return this.props.parallaxRatio * ( 1 + scrollBonusRatio * target);\r\n  }\r\n  componentDidMount() {\r\n    var windowScrollTop = window.pageYOffset / this.getScrollRatio();\r\n\r\n    this.setState({\r\n      transform: \"translate3d(0,\" + windowScrollTop + \"px,0)\"\r\n    });\r\n    window.addEventListener(\"scroll\", this.resetTransform);\r\n\r\n    if (this.props.shrinkTarget && this.props.shrinkDuration) {\r\n      var that = this;\r\n      var shrinkStartId = setTimeout(() => {\r\n        var startTime = Date.now();\r\n        clearTimeout(shrinkStartId);\r\n        var shrinkAnim = setInterval(\r\n          () => {\r\n\r\n            var ratioDone = (Date.now() - startTime) / that.props.shrinkDuration;\r\n            if (ratioDone > 1) {\r\n              ratioDone = 1;\r\n              clearInterval(shrinkAnim);\r\n            }\r\n            \r\n            that.setState({scrollTopRatio: ratioDone * that.props.shrinkTarget}\r\n              );\r\n              that.resetTransform();\r\n          },\r\n          1000 / 60\r\n        );\r\n      },\r\n        this.props.shrinkDelay || 0)\r\n\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.resetTransform);\r\n  }\r\n\r\n  resetTransform() {\r\n    var windowScrollTop = window.pageYOffset / this.getScrollRatio();\r\n    this.setState({\r\n      transform: \"translate3d(0,\" + windowScrollTop + \"px,0)\"\r\n    });\r\n  }\r\n\r\n  //Vert pale : #01a54e\r\n  //Vert foncer : #00612e\r\n\r\n  render() {\r\n    let {\r\n      classes,\r\n      filter,\r\n      className,\r\n      children,\r\n      style,\r\n      image,\r\n      small,\r\n      xsmall,\r\n      withGreen\r\n    } = this.props;\r\n    \r\n    if (classes == null ) classes = {};     \r\n    //    backgroundImage: \"url(\" + utils.toWebP(image) + \")\",\r\n    const parallaxClasses = classNames({\r\n      [classes.parallax]: true,\r\n      [classes.filter]: filter,\r\n      [classes.small]: small,\r\n      [classes.xsmall]: xsmall,\r\n      [className]: className !== undefined\r\n    });\r\n    return (\r\n      <>\r\n      <div\r\n        className={parallaxClasses}\r\n        style={{\r\n          ...style,\r\n          backgroundImage: \"url(\" + image + \")\",\r\n          ...this.state\r\n        }}\r\n        ref=\"parallax\"\r\n      >\r\n\r\n        {children}\r\n      </div>\r\n      {withGreen && \r\n      <div style={{\r\n        background:\"linear-gradient(to right, RGBA(78,166,79,1) 0%,RGBA(42,97,47,1) 100%)\",\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        textAlign: \"left\",\r\n        zIndex:1}} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\nParallax.defaultProps = {\r\n  parallaxRatio: 3\r\n};\r\n\r\nParallax.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  filter: PropTypes.bool,\r\n  children: PropTypes.node,\r\n  style: PropTypes.string,\r\n  image: PropTypes.string,\r\n  shrinkTarget: PropTypes.number,\r\n  shrinkDelay: PropTypes.number,\r\n  shrinkDuration: PropTypes.number,\r\n  parallaxRatio: PropTypes.number\r\n};\r\n\r\nexport default (Parallax);\r\n","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nmodule.exports = bytesToUuid;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now = function now() {\n  return root.Date.now();\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\n\n\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = throttle;"],"sourceRoot":""}