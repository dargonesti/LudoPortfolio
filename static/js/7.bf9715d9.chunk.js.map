{"version":3,"sources":["utils/compress.js","utils/utils.js","utils/DataAccess/DALimpotx.js","utils/DataAccess/localData.js","HoC/allowRedirect.jsx","HoC/impoHOC.js","views/InspirationPage/InspirationPage.jsx"],"names":["canvasEncode","_x","_x2","_x3","_canvasEncode","apply","this","arguments","_callee4","shouldCompress","file","cb","quality","type","_args4","regenerator_default","a","wrap","_context4","prev","next","length","undefined","abrupt","Promise","_ref","Object","asyncToGenerator","mark","_callee3","resolve","reject","img","canvasCopy","copyContext","_context3","Image","document","createElement","getContext","onload","_callee2","blob","dataUrl","result","outputType","binaryStr","data","i","_context2","width","height","drawImage","toBlob","_ref3","_callee","_context","utils","log","stop","_x6","toDataURL","exec","atob","Uint8Array","charCodeAt","Blob","src","preview","_x4","_x5","reponses","questions","lstIdentityQuestionIdPerso","listeners","callEvent","event","params","values","forEach","_evDebouncer","thSet","debounce","that","_unmounted","setState","_debouncedState","leading","trailing","toWebP","imgUrl","canUseWebP","imgParts","split","pop","push","join","cached","localData","getStorage","elem","indexOf","setStorage","test","isDev","process","console","__webpack_exports__","groupBy","xs","key","reduce","rv","x","downloadCSV","args","filename","link","csv","ctr","keys","columnDelimiter","lineDelimiter","item","convertArrayOfObjectsToCSV","match","encodeURI","setAttribute","click","isProd","str","isChatActive","isAnneesActive","isDocsActive","escapeRegExp","string","replace","replaceBR","newStr","ret","react_default","Fragment","replaceA","reg","arr","splited","txt","href","target","isNumeric","n","isNaN","parseFloat","isFinite","combineUrl","path1","path2","error","endsWith","startsWith","subString","memorySizeOf","obj","bytes","toFixed","formatByteSize","sizeOf","objClass","prototype","toString","call","slice","hasOwnProperty","lateEnoughAfterNo","Date","now","sec","testPermission","cbPrompt","cbGranted","cbDenied","_this","navigator","permissions","query","name","then","res","state","refreshQuestions","pQuestions","Array","isArray","qst","idperso","refreshReponses","reps","DAL","getReponses","rep","question","QuestionIdPersoToChoixRep","questionIdPerso","def","qstACharge","_id","choixdereponse","find","ch","parseInt","texte","urlBase64ToUint8Array","base64String","base64","repeat","rawData","window","outputArray","keepOnlyLatestRep","existingRep","sort","b","createdAt","filter","exists","some","annee","stableSort","array","cmp","stabilizedThis","map","el","index","order","filtreOnlyIdentityQuestion","isIdentityQuestion","repString","getReponse","id","reptype","date","numero","repToString","tryAndTryAgain","fn","delay","callback","ex","getCatTitre","getDepenses","dep","getFeuillets","titre","myCompare","obj1","obj2","lstParams","every","param","pdfUrlReform","url","isPDF","substring","addListener","removeListener","throttledCallEvent","ev","val","value","throttledSetState","objectSpread","getFB","fbData","k","shorterString","len","endChar","todo","utils_utils__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","utils_DataAccess_DALimpotx_js__WEBPACK_IMPORTED_MODULE_1__","_ongoingQueries","storage","clearCache","_cache","clearStorage","localStorage","getItem","removeItem","clearAppStorage","clear","get","nullValue","set","JSON","parse","setItem","stringify","checkLocalDataAdmin","cacheName","DALfn","getQuestions","allowRedirect","WrappedComponent","PageName","_React$Component","inherits","_class","_super","_createSuper","props","classCallCheck","handleRedirect","bind","assertThisInitialized","createClass","redirect","_this2","forceUpdate","Redirect","to","assign","setRedirect","React","Component","mergedHOC","rawComp","p2","p3","Components","_this$props","classes","F_Code_GitHub_LudoPortfolio_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_6___default","className","classNames","main","mainRaised","impoHOC"],"mappings":"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","file":"static/js/7.bf9715d9.chunk.js","sourcesContent":["\r\nimport utils from './utils';\r\n\r\nexport async function canvasEncode(shouldCompress, file, cb, quality = 25, type = \"image/jpeg\") {\r\n  return new Promise(async (resolve, reject) => {\r\n    if (!shouldCompress) {\r\n      await cb(file);\r\n      resolve();\r\n      return;\r\n    } else {\r\n      var img = new Image();\r\n      var canvasCopy = document.createElement(\"canvas\");\r\n      var copyContext = canvasCopy.getContext(\"2d\");\r\n\r\n      img.onload = async function () {\r\n\r\n        canvasCopy.width = img.width;\r\n        canvasCopy.height = img.height;\r\n        copyContext.drawImage(img, 0, 0);\r\n\r\n\r\n        let blob;\r\n\r\n        if ('toBlob' in canvasCopy) {\r\n          canvasCopy.toBlob(async (blob) => {\r\n            utils.log(blob);\r\n\r\n            await cb(blob);\r\n            resolve();\r\n          }, type, quality / 100);\r\n        } else {\r\n          // Welcome to Edge.\r\n          // TypeScript thinks `canvas` is 'never', so it needs casting. => (canvas as HTMLCanvasElement).toDataURL(type, quality);\r\n          const dataUrl = canvasCopy.toDataURL(type, quality / 100);\r\n          const result = /data:([^;]+);base64,(.*)$/.exec(dataUrl);\r\n\r\n          const outputType = result[1];\r\n          const binaryStr = atob(result[2]);\r\n          const data = new Uint8Array(binaryStr.length);\r\n\r\n          for (let i = 0; i < data.length; i += 1) {\r\n            data[i] = binaryStr.charCodeAt(i);\r\n          }\r\n\r\n          blob = new Blob([data], { type: outputType });\r\n          cb(blob);\r\n         resolve();\r\n        }\r\n      };\r\n      img.src = file.preview;\r\n    }\r\n  });\r\n}\r\n\r\nexport default {\r\n  canvasEncode\r\n};","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\nimport React from \"react\";\r\n\r\nimport debounce from \"lodash.debounce\";\r\n\r\nimport DAL from \"utils/DataAccess/DALimpotx.js\";\r\nimport localData from \"utils/DataAccess/localData.js\";\r\n\r\nimport { canvasEncode } from \"./compress\";\r\n\r\nvar reponses = {};\r\nvar questions = {};\r\n\r\n\r\nfunction refreshReponses() {\r\n  var reps = DAL.getReponses();\r\n  reponses = {};\r\n  if (reps) {\r\n    reponses = reps.reduce((ret, rep) => {\r\n      ret[rep.question] = rep;\r\n      return ret;\r\n    }, {});\r\n  }\r\n}\r\n\r\nfunction refreshQuestions(pQuestions) {\r\n  if (Array.isArray(pQuestions)) {\r\n    questions = pQuestions.reduce((ret, qst) => {\r\n      ret[qst.idperso] = qst;\r\n      return ret;\r\n    }, {});\r\n  } else {\r\n    questions = pQuestions;\r\n  }\r\n}\r\n\r\nfunction QuestionIdPersoToChoixRep(questionIdPerso, def) {\r\n  var ret = def;\r\n  var qstACharge = questions[questionIdPerso];\r\n  if (qstACharge) {\r\n    var rep = reponses[qstACharge._id]; // Contient l'id de la réponse mais pas le texte\r\n    if (rep) {\r\n      rep = qstACharge.choixdereponse.find(ch => ch._id === rep.choixdereponse);\r\n      if (rep) {\r\n        if (\"np-personnes-a-charge\" === questionIdPerso)\r\n          ret = parseInt(rep.texte, 10);\r\n        else\r\n          ret = rep.texte;\r\n      }\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction urlBase64ToUint8Array(base64String) {\r\n  const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\r\n  const base64 = (base64String + padding)\r\n    .replace(/-/g, \"+\")\r\n    .replace(/_/g, \"/\");\r\n\r\n  const rawData = window.atob(base64);\r\n  const outputArray = new Uint8Array(rawData.length);\r\n\r\n  for (let i = 0; i < rawData.length; ++i) {\r\n    outputArray[i] = rawData.charCodeAt(i);\r\n  }\r\n  return outputArray;\r\n}\r\n\r\nfunction keepOnlyLatestRep(reponses) {\r\n  var existingRep = {};\r\n  var rep2 = reponses\r\n    .sort((a, b) => b.createdAt < a.createdAt ? -1 : 1);\r\n  var rep3 = rep2\r\n    .filter(rep => {\r\n      if (!(rep.question in existingRep))\r\n        existingRep[rep.question] = [];\r\n\r\n      var exists = existingRep[rep.question].some(annee => annee == rep.annee);\r\n      if (!exists) {\r\n        existingRep[rep.question].push(rep.annee)\r\n      }\r\n\r\n      return !exists;\r\n    });\r\n  return rep3;\r\n}\r\n\r\nfunction stableSort(array, cmp) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = cmp(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map(el => el[0]);\r\n}\r\n\r\n\r\nconst lstIdentityQuestionIdPerso = [\r\n  \"user-last-name\",\r\n  \"user-first-name\",\r\n  \"user-no-nas\",\r\n  \"corresp-language\",\r\n  \"user-moyen-de-comm\",\r\n  \"user-sex\",\r\n  \"user-tel-day\",\r\n  \"user-tel-evening\",\r\n  //adresse,\r\n];\r\n\r\n//const identityQuestionTitreRegex = RegExp(\"(\" + lstIdentityQuestionTitre.join(\"|\") + \")\", \"i\");\r\n\r\nfunction isIdentityQuestion(question) {\r\n  return lstIdentityQuestionIdPerso.indexOf(question.idperso) >= 0;\r\n  //return question.titre.match(identityQuestionTitreRegex);\r\n}\r\n\r\nfunction filtreOnlyIdentityQuestion(questions) {\r\n  return questions.filter(question => isIdentityQuestion(question))\r\n    .map(qst => {\r\n      qst.repString = repToString(qst);\r\n      return qst;\r\n    });\r\n}\r\n\r\nfunction repToString(question) {\r\n  var rep = DAL.getReponse(question.id);\r\n  var ret = \"\";\r\n  if (rep) {\r\n    if (question.choixdereponse && question.choixdereponse.length > 0) {\r\n      rep = question.choixdereponse.find(ch => ch.id === rep.choixdereponse);\r\n      ret = rep ? rep.texte : \"\";\r\n    }\r\n    else if (question.reptype === 1)\r\n      ret = rep.texte;\r\n    else if (question.reptype === 3)\r\n      ret = rep.date;\r\n    else if (question.reptype > 3)\r\n      ret = rep.numero + \"\";\r\n  }\r\n\r\n  if (ret.length === 0) return <i>non répondu</i>;\r\n\r\n  return ret;\r\n}\r\n\r\n\r\nfunction sortDate(a, b) {\r\n  return b.t > a.t ? -1 : 1;\r\n}\r\n\r\nfunction groupBy(xs, key) {\r\n  return xs.reduce(function (rv, x) {\r\n    (rv[x[key]] = rv[x[key]] || []).push(x);\r\n    return rv;\r\n  }, {});\r\n}\r\n\r\nfunction tryAndTryAgain(fn, delay, callback) {\r\n  if (!(delay)) delay = 123;\r\n  try {\r\n    if (callback) callback(fn());\r\n    else fn();\r\n  } catch (ex) {\r\n    var fnApplyStyle = () => {\r\n      setTimeout(() => {\r\n        try {\r\n          if (callback) callback(fn());\r\n          else fn();\r\n        } catch (ex) {\r\n          fnApplyStyle();\r\n        }\r\n      }, delay);\r\n    }\r\n  }\r\n}\r\n\r\nfunction myCompare(obj1, obj2, lstParams) {\r\n  return lstParams.every(param => obj1[param] == obj2[param]);\r\n  // TODO : allow to recurse compare children Objects\r\n}\r\n\r\nconst getCatTitre = id => (DAL.getDepenses().find(dep => dep.idperso == id)\r\n  || DAL.getFeuillets().find(dep => dep.idperso == id)\r\n  || { titre: id })\r\n  .titre;\r\n\r\n\r\n//CHANGE LANG LISTENERS\r\nvar listeners = {};\r\nfunction addListener(event, id, callback) {\r\n  if (!(event in listeners)) listeners[event] = {};\r\n  listeners[event][id] = callback;\r\n}\r\nfunction removeListener(event, id) {\r\n  if (event in listeners) {\r\n    delete listeners[event][id];\r\n  }\r\n}\r\nfunction callEvent(event, params) {\r\n  if (event in listeners) {\r\n    Object.values(listeners[event])\r\n      .forEach(cb => {\r\n        cb(params);\r\n      });\r\n  }\r\n}\r\n\r\nlet _evDebouncer = {};\r\nlet throttledCallEvent = (ev, val) => {\r\n  if (!_evDebouncer[ev])\r\n    _evDebouncer[ev] = debounce((value) => {\r\n      callEvent(ev, value);\r\n    }, 500, { leading: true, trailing: true });\r\n  _evDebouncer[ev](val);\r\n};\r\n\r\nvar thSet = debounce((that) => {\r\n    if(that._unmounted) return;\r\n    that.setState(that._debouncedState);\r\n    that._debouncedState = {}; \r\n}, 100, { leading: false, trailing: true });\r\n\r\nfunction throttledSetState(param) {\r\n  this._debouncedState = this._debouncedState || {};\r\n  this._debouncedState = { ...this._debouncedState, ...param };\r\n  thSet(this);\r\n}\r\n\r\nfunction testPermission(cbPrompt, cbGranted, cbDenied) {\r\n\r\n  if (navigator &&\r\n    navigator.permissions &&\r\n    navigator.permissions.query) {\r\n    navigator.permissions\r\n      .query({ name: \"notifications\" })\r\n      .then(res => {\r\n        this.log(\"Notifications : \" + res.state);\r\n        if (res.state === 'prompt') {\r\n          if (cbPrompt)\r\n            cbPrompt();\r\n        } else if (res.state === 'granted') {\r\n          if (cbGranted)\r\n            cbGranted();\r\n        }\r\n        else {\r\n          if (cbDenied)\r\n            cbDenied();\r\n        }\r\n      });\r\n  } else if (cbDenied) {\r\n    cbDenied();\r\n  }\r\n}\r\n\r\nfunction lateEnoughAfterNo() {\r\n  const sec = 1000;\r\n  const secInMin = 60;\r\n  const mininH = 60;\r\n  const HinD = 24;\r\n  const lastSaidNo = localData.getStorage(\"saidNoNotif\");\r\n  return !(lastSaidNo > Date.now() - sec * secInMin * mininH * HinD * 7);\r\n}\r\n\r\nfunction memorySizeOf(obj) {\r\n  var bytes = 0;\r\n\r\n  function sizeOf(obj) {\r\n    if (obj !== null && obj !== undefined) {\r\n      // eslint-disable-next-line\r\n      switch (typeof obj) {\r\n        case 'number':\r\n          bytes += 8;\r\n          break;\r\n        case 'string':\r\n          bytes += obj.length * 2;\r\n          break;\r\n        case 'boolean':\r\n          bytes += 4;\r\n          break;\r\n        case 'object':\r\n          var objClass = Object.prototype.toString.call(obj).slice(8, -1);\r\n          if (objClass === 'Object' || objClass === 'Array') {\r\n            for (var key in obj) {\r\n              if (!obj.hasOwnProperty(key)) continue;\r\n              sizeOf(obj[key]);\r\n            }\r\n          } else bytes += obj.toString().length * 2;\r\n          break;\r\n      }\r\n    }\r\n    return bytes;\r\n  };\r\n\r\n  function formatByteSize(bytes) {\r\n    if (bytes < 1024) return bytes + \" bytes\";\r\n    else if (bytes < 1048576) return (bytes / 1024).toFixed(3) + \" KiB\";\r\n    else if (bytes < 1073741824) return (bytes / 1048576).toFixed(3) + \" MiB\";\r\n    else return (bytes / 1073741824).toFixed(3) + \" GiB\";\r\n  };\r\n\r\n  return formatByteSize(sizeOf(obj));\r\n};\r\n\r\nfunction combineUrl(path1, path2) {\r\n  if (typeof (path1) !== \"string\" || typeof (path2) !== \"string\") {\r\n    console.error(\"Should be 2 strings to combine\");\r\n  }\r\n  if (path1.endsWith(\"/\")) {\r\n    if (path2.startsWith(\"/\"))\r\n      return path1 + path2.subString(1, path2.length);\r\n    else\r\n      return path1 + path2;\r\n  }\r\n  else {\r\n    if (path2.startsWith(\"/\"))\r\n      return path1 + path2;\r\n    else\r\n      return path1 + \"/\" + path2;\r\n  }\r\n}\r\n\r\nfunction isPDF(url) {\r\n  return url && /.*pdf/gi.test(url);\r\n}\r\n\r\nfunction pdfUrlReform(url) {\r\n  if (isPDF(url)) {\r\n    return url.substring(0, url.length - 3) + \"png\";\r\n  }\r\n  return url;\r\n}\r\n\r\nfunction isNumeric(n) {\r\n  return !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\n\r\nfunction toWebP(imgUrl) {\r\n  if (canUseWebP() && imgUrl) {\r\n    var imgParts = imgUrl.split(\".\");\r\n    imgParts.pop();\r\n    imgParts.push(\"webp\");\r\n    return imgParts.join(\".\");\r\n  }\r\n  return imgUrl;\r\n}\r\n\r\nfunction canUseWebP() {\r\n  var cached = localData.getStorage(\"SupportWebP\");\r\n  if (cached == null) {\r\n    var elem = document.createElement('canvas');\r\n\r\n    if (!!(elem.getContext && elem.getContext('2d'))) {\r\n      // was able or not to get WebP representation\r\n      cached = (elem.toDataURL('image/webp').indexOf('data:image/webp') == 0) ? \"yes\" : \"no\";\r\n      localData.setStorage(\"SupportWebP\", cached);\r\n    } else {\r\n      cached = \"no\";\r\n      localData.setStorage(\"SupportWebP\", cached);\r\n    }\r\n  }\r\n\r\n  return /yes/i.test(cached);\r\n}\r\n\r\nfunction replaceBR(str) {\r\n  var newStr = str.split(\"<br>\");\r\n  var ret = <>{newStr.pop()}</>;\r\n  while (newStr.length >= 1) {\r\n    ret = <>{newStr.pop()}<br />{ret}</>;\r\n  }\r\n  return ret;\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\r\nfunction replaceA(str){\r\n  let reg = /\\<a.*href=.(.*)\\\".*\\>(.*)<\\/a>/gi;\r\n\r\n  let arr = reg.exec(str);\r\n  //console.log(arr);\r\n\r\n  let splited = str.replace(reg, \"_a_\").split(\"_a_\");    \r\n  let ret = <></>;//<>{splited.pop()}</>;\r\n\r\n  if(splited.length >= 1){\r\n    while (splited.length >= 1 ) {\r\n      if( arr && arr.length > 2){\r\n        let txt = arr.pop();\r\n        let href = arr.pop();\r\n        let fullMatch = arr.pop();\r\n        ret = <>{<a href={href} target=\"_blank\">{txt}</a>}{splited.pop()}{ret}</>;\r\n      }else{\r\n        ret = <>{splited.pop()}{ret}</>;\r\n      }\r\n    }\r\n  }else{\r\n    ret = str;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction escapeRegExp(string) {\r\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole  matched string\r\n}\r\n\r\nconst isDev = () => /^dev.*/gi.test(process.env.NODE_ENV);\r\nconst isProd = () => !isDev();\r\nconst log = (str) => {\r\n  if (isDev()) {\r\n    console.log(str);\r\n  }\r\n};\r\nconst isChatActive = () => /true/gi.test(process.env.REACT_APP_ACTIVATE_CHAT);\r\n\r\nfunction convertArrayOfObjectsToCSV(args) {\r\n  var result, ctr, keys, columnDelimiter, lineDelimiter, data;\r\n\r\n  data = args.data || null;\r\n  if (data == null || !data.length) {\r\n    return null;\r\n  }\r\n\r\n  columnDelimiter = args.columnDelimiter || ',';\r\n  lineDelimiter = args.lineDelimiter || '\\n';\r\n\r\n  keys = Object.keys(data[0]);\r\n\r\n  result = '';\r\n  result += keys.join(columnDelimiter);\r\n  result += lineDelimiter;\r\n\r\n  data.forEach(function (item) {\r\n    ctr = 0;\r\n    keys.forEach(function (key) {\r\n      if (ctr > 0) result += columnDelimiter;\r\n\r\n      result += item[key];\r\n      ctr++;\r\n    });\r\n    result += lineDelimiter;\r\n  });\r\n\r\n  return result;\r\n}\r\nfunction downloadCSV(args) {\r\n  var data, filename, link;\r\n  var csv = convertArrayOfObjectsToCSV({ data });\r\n  if (csv == null) return;\r\n\r\n  filename = args.filename || 'export.csv';\r\n\r\n  if (!csv.match(/^data:text\\/csv/i)) {\r\n    csv = 'data:text/csv;charset=utf-8,' + csv;\r\n  }\r\n  data = encodeURI(csv);\r\n\r\n  link = document.createElement('a');\r\n  link.setAttribute('href', data);\r\n  link.setAttribute('download', filename);\r\n  link.click();\r\n}\r\nconsole.log(\"Utils.toWebP : \" + toWebP(\"imgTest.jpg\"));\r\nexport default {\r\n  groupBy,\r\n  downloadCSV,\r\n  isProd,\r\n  isDev,\r\n  log,\r\n  isChatActive,\r\n  isAnneesActive : () => false,\r\n  isDocsActive : () => false,///true/gi.test(process.env.REACT_APP_ACTIVATE_DOCS),\r\n  escapeRegExp,\r\n  replaceBR,\r\n  replaceA,\r\n  toWebP,\r\n  canUseWebP,\r\n  isNumeric,\r\n  combineUrl,\r\n  memorySizeOf,\r\n  lateEnoughAfterNo,\r\n  testPermission,\r\n  refreshQuestions,\r\n  refreshReponses,\r\n  QuestionIdPersoToChoixRep: QuestionIdPersoToChoixRep,\r\n  urlBase64ToUint8Array: urlBase64ToUint8Array,\r\n  keepOnlyLatestRep: keepOnlyLatestRep,\r\n  stableSort: stableSort,\r\n  filtreOnlyIdentityQuestion: filtreOnlyIdentityQuestion, \r\n  tryAndTryAgain: tryAndTryAgain,\r\n  getCatTitre: getCatTitre,\r\n  myCompare: myCompare,\r\n\r\n  pdfUrlReform,\r\n\r\n  addListener,\r\n  removeListener,\r\n  callEvent,\r\n  throttledCallEvent,\r\n  throttledSetState,\r\n\r\n  getFB: (fbData, key) => {\r\n    (\"database.state.\"+key).split(\".\").forEach(k=>{\r\n      if(fbData) fbData = fbData[k];\r\n    });\r\n    return fbData;\r\n  },\r\n\r\n  shorterString: (str, len, endChar = 3) => {\r\n    if(str.length > len)\r\n      return str.slice(0,len-(3+endChar)) + \"...\" + str.slice(-endChar);\r\n    else\r\n      return str;\r\n  },\r\n\r\n  canvasEncode\r\n};","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\n \r\n\r\n// Consider memoize libraries : https://itnext.io/how-i-wrote-the-worlds-fastest-react-memoization-library-535f89fc4a17\r\n// Here : https://github.com/theKashey/memoize-state\r\nconst DAL =  {\r\n  todo:\"All this\"\r\n} \r\n\r\n\r\nexport default DAL;\r\n","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\n\r\nimport utils from \"utils/utils\";\r\nimport DAL from \"utils/DataAccess/DALimpotx.js\";\r\n\r\n// Consider memoize libraries : https://itnext.io/how-i-wrote-the-worlds-fastest-react-memoization-library-535f89fc4a17\r\n// Here : https://github.com/theKashey/memoize-state\r\n\r\nvar _ongoingQueries = {};\r\n\r\nconst storage = {\r\n\r\n  clearCache(key) {\r\n    if (this._cache)\r\n      delete this._cache[key];\r\n  },\r\n\r\n  clearStorage(key) {\r\n    this.clearCache(key);\r\n\r\n    if (localStorage && localStorage.getItem(key)) {\r\n      return localStorage.removeItem(key);\r\n    }\r\n  },\r\n\r\n  clearAppStorage() {\r\n    this._cache = {};\r\n\r\n    if (localStorage) {\r\n      localStorage.clear();\r\n    }\r\n  },\r\n\r\n  get(key, nullValue) {\r\n    if (this._cache == null) this._cache = {};\r\n    if (this._cache[key] === null)\r\n      return nullValue;\r\n    return this._cache[key];\r\n  },\r\n\r\n  set(key, value) {\r\n    if (this._cache == null) this._cache = {};\r\n    this._cache[key] = value;\r\n  },\r\n\r\n  getStorage(key, nullValue) {\r\n    var ret = this.get(key);\r\n    if (ret) return ret;\r\n\r\n    if (localStorage) {\r\n      ret = localStorage.getItem(key);\r\n      if (ret) {\r\n        try {\r\n          ret = JSON.parse(ret);\r\n        } catch (ex) {\r\n          utils.log(ex);\r\n          ret = null;\r\n        }\r\n      }\r\n      this._cache[key] = ret;\r\n    }\r\n\r\n    if (ret === null)\r\n      return nullValue;\r\n    else\r\n      return ret;\r\n  },\r\n\r\n  setStorage(key, value) {\r\n    this.set(key, value);\r\n\r\n    if (localStorage) {\r\n      try{\r\n        localStorage.setItem(key, JSON.stringify(value));\r\n      }catch(ex){\r\n        console.error(ex);\r\n      }\r\n    }\r\n  },\r\n\r\n  checkLocalDataAdmin() {\r\n    //_checkAndGetDAL(\"getUsers\", DAL.getUsers);\r\n    _checkAndGetDAL(\"getQuestionsById\", DAL.getQuestions);\r\n  }\r\n\r\n}\r\n\r\nfunction _checkAndGetDAL(cacheName, DALfn) {\r\n  if (!(cacheName in localStorage) && !_ongoingQueries[cacheName]) {\r\n    DALfn(true)\r\n      .then(res => { delete _ongoingQueries[cacheName]; });\r\n    _ongoingQueries[cacheName] = Date.now();\r\n    utils.log(\"_check and get DAL : \" + cacheName + \" was not cached\");\r\n  }\r\n}\r\n\r\n\r\nexport default storage;\r\n","import React from \"react\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport utils from \"utils/utils\";\r\n\r\nfunction allowRedirect(WrappedComponent, PageName) {\r\n  return class extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n      };//remove comment\r\n\r\n      this.handleRedirect = this.handleRedirect.bind(this);\r\n    }\r\n\r\n    handleRedirect(target) {\r\n      this.setState({ redirect: target });\r\n    }\r\n\r\n    componentDidMount() {\r\n      utils.addListener(\"language\", PageName, (ev) => {\r\n        this.forceUpdate();\r\n      });\r\n    }\r\n    componentWillUnmount() {\r\n      utils.removeListener(\"language\", PageName);\r\n    }\r\n\r\n    render() {\r\n      if (this.state.redirect) {\r\n        return <Redirect to={this.state.redirect} />;\r\n      } else {\r\n        return <WrappedComponent setRedirect={this.handleRedirect} {...this.props} />;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nexport default allowRedirect;","import allowRedirect from \"./allowRedirect\";\r\n//import subscriptions from \"./subscriptions\";\r\n\r\nconst mergedHOC = (rawComp, PageName, p2, p3) => allowRedirect(rawComp, PageName);\r\n//subscriptions(allowRedirect(rawComp), p1,p2,p3);\r\n\r\nexport default mergedHOC;","import React from \"react\";\r\nimport impoHOC from \"HoC/impoHOC.js\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\"; \r\n\r\nclass Components extends React.Component {\r\n\r\n  render() {\r\n    let { classes, ...rest } = this.props;\r\n    classes = {};\r\n    /*Header Prop : changeColorOnScroll={{\r\n            height: 400,\r\n            color: \"white\"\r\n          }}*/\r\n    return (\r\n      <div>\r\n       \r\n\r\n        <div className={classNames(classes.main, classes.mainRaised)}>\r\n          <ul>\r\n\r\n            <li><a href=\"https://www.akufen.ca/\">Akufen.ca, minimalist, good mobile </a></li>\r\n            <li><a href=\"https://fwa100.jam3.com/\">FWA100, Minimalist, animated Intro with Gradient ( but just a 3js demo )</a></li>\r\n            <li><a href=\"https://www.madeleinedalla.com/\">Madeleine Dalla by Marvin Schwaibold ( Photo protfolio )</a></li>\r\n\r\n\r\n          </ul>\r\n        </div> \r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default (impoHOC(Components, \"Components\"));\r\n"],"sourceRoot":""}