{"version":3,"sources":["../node_modules/uuid/lib/rng-browser.js","../node_modules/uuid/lib/bytesToUuid.js","utils/compress.js","utils/utils.js","utils/DataAccess/DALimpotx.js","utils/DataAccess/localData.js","HoC/allowRedirect.jsx","HoC/impoHOC.js","utils/auth.js","components/CustomButtons/Button.jsx","assets/jss/material-kit-react/impotXYZ.jsx","../node_modules/react-router-dom/es/Link.js","components/Header/HeaderLinks.jsx","components/Header/Header.jsx","assets/jss/material-kit-react/components/footerStyle.jsx","components/Footer/Footer.jsx","components/Parallax/Parallax.jsx","../node_modules/uuid/v4.js"],"names":["getRandomValues","crypto","bind","msCrypto","window","rnds8","Uint8Array","module","exports","rnds","Array","r","i","Math","random","byteToHex","toString","substr","buf","offset","bth","join","canvasEncode","_x","_x2","_x3","_canvasEncode","apply","this","arguments","_callee4","shouldCompress","file","cb","quality","type","_args4","regenerator_default","a","wrap","_context4","prev","next","length","undefined","abrupt","Promise","_ref","Object","asyncToGenerator","mark","_callee3","resolve","reject","img","canvasCopy","copyContext","_context3","Image","document","createElement","getContext","onload","_callee2","blob","dataUrl","result","outputType","binaryStr","data","_context2","width","height","drawImage","toBlob","_ref3","_callee","_context","utils","log","stop","_x6","toDataURL","exec","atob","charCodeAt","Blob","src","preview","_x4","_x5","reponses","questions","lstIdentityQuestionIdPerso","listeners","callEvent","event","params","values","forEach","_evDebouncer","thSet","debounce","that","_unmounted","setState","_debouncedState","leading","trailing","toWebP","imgUrl","canUseWebP","imgParts","split","pop","push","cached","localData","getStorage","elem","indexOf","setStorage","test","isDev","process","console","__webpack_exports__","groupBy","xs","key","reduce","rv","x","downloadCSV","args","filename","link","csv","ctr","keys","columnDelimiter","lineDelimiter","item","convertArrayOfObjectsToCSV","match","encodeURI","setAttribute","click","isProd","str","isChatActive","isAnneesActive","isDocsActive","escapeRegExp","string","replace","replaceBR","newStr","ret","react_default","Fragment","replaceA","reg","arr","splited","txt","href","target","isNumeric","n","isNaN","parseFloat","isFinite","combineUrl","path1","path2","error","endsWith","startsWith","subString","memorySizeOf","obj","bytes","toFixed","formatByteSize","sizeOf","objClass","prototype","call","slice","hasOwnProperty","lateEnoughAfterNo","Date","now","sec","testPermission","cbPrompt","cbGranted","cbDenied","_this","navigator","permissions","query","name","then","res","state","refreshQuestions","pQuestions","isArray","qst","idperso","refreshReponses","reps","DAL","getReponses","rep","question","QuestionIdPersoToChoixRep","questionIdPerso","def","qstACharge","_id","choixdereponse","find","ch","parseInt","texte","urlBase64ToUint8Array","base64String","base64","repeat","rawData","outputArray","keepOnlyLatestRep","existingRep","sort","b","createdAt","filter","exists","some","annee","stableSort","array","cmp","stabilizedThis","map","el","index","order","filtreOnlyIdentityQuestion","isIdentityQuestion","repString","getReponse","id","reptype","date","numero","repToString","tryAndTryAgain","fn","delay","callback","ex","getCatTitre","getDepenses","dep","getFeuillets","titre","myCompare","obj1","obj2","lstParams","every","param","pdfUrlReform","url","isPDF","substring","addListener","removeListener","throttledCallEvent","ev","val","value","throttledSetState","objectSpread","getFB","fbData","k","shorterString","len","endChar","todo","utils_utils__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","utils_DataAccess_DALimpotx_js__WEBPACK_IMPORTED_MODULE_1__","_ongoingQueries","storage","clearCache","_cache","clearStorage","localStorage","getItem","removeItem","clearAppStorage","clear","get","nullValue","set","JSON","parse","setItem","stringify","checkLocalDataAdmin","cacheName","DALfn","getQuestions","allowRedirect","WrappedComponent","PageName","_React$Component","inherits","_class","_super","_createSuper","props","classCallCheck","handleRedirect","assertThisInitialized","createClass","redirect","_this2","forceUpdate","Redirect","to","assign","setRedirect","React","Component","mergedHOC","rawComp","p2","p3","auth","clearToken","clearUserInfo","showToast","msg","time","messages","newId","uuidv4","text","concat","F_Code_GitHub_LudoPortfolio_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","getToast","getAllToasts","removeToast","getScrollTarget","setScrollTarget","refreshSelectedUser","getToken","tokenKey","getUserInfo","userInfo","setToken","isLocalStorage","setUserInfo","doc","addRep","newRep","usr","oldRep","isAdmin","token","curUsr","role","roleName","isSuperAdmin","getActiveUserId","getActiveAdminId","isFr","authLang","qstLang","Button","children","F_Code_GitHub_LudoPortfolio_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","impotStyle","mainRaised","margin","paddingBottom","borderRadius","boxShadow","@media (max-width: 500px)","mainContentMargin","_extends","source","_possibleConstructorReturn","self","ReferenceError","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","Link_Link","Link","_temp","instance","Constructor","TypeError","_classCallCheck","_len","_key","handleClick","onClick","defaultPrevented","button","preventDefault","history","context","router","_this$props","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","render","_props","innerRef","_objectWithoutProperties","browser_default","location","esm_history","createHref","ref","propTypes","prop_types_default","func","bool","oneOfType","object","isRequired","defaultProps","contextTypes","shape","es_Link","Transition","Slide","direction","isUser","WithMobx","observer","store","useStore","useEffect","replacesStickyHeader","Header_Header","stickyReplace","Header","classes","color","leftLinks","fixed","absolute","rightLinks","stickyHidden","defaultProp","primaryColor","container","Footer","handleChange","newVal","defineProperty","setTimeout","selectVal","getSavedLanguage","translatedTxt","setLanguage","language","_classNames","_classNames2","whiteFont","footerClasses","classNames","footer","footerWhiteFont","aClasses","className","left","list","inlineBlock","block","AboutUs","native","inheritColor","style","padding","onChange","inputProps","right","getYear","MadeBy","Parallax","scrollTopRatio","resetTransform","getScrollRatio","windowScrollTop","pageYOffset","transform","scrollBonusRatio","shrinkTarget","parallaxRatio","addEventListener","shrinkDuration","shrinkStartId","startTime","clearTimeout","shrinkAnim","setInterval","ratioDone","clearInterval","shrinkDelay","removeEventListener","image","small","xsmall","withGreen","parallaxClasses","parallax","backgroundImage","background","position","top","textAlign","zIndex","rng","bytesToUuid","options","ii"],"mappings":"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","file":"static/js/1.eb7085ae.chunk.js","sourcesContent":["// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nmodule.exports = bytesToUuid;","\r\nimport utils from './utils';\r\n\r\nexport async function canvasEncode(shouldCompress, file, cb, quality = 25, type = \"image/jpeg\") {\r\n  return new Promise(async (resolve, reject) => {\r\n    if (!shouldCompress) {\r\n      await cb(file);\r\n      resolve();\r\n      return;\r\n    } else {\r\n      var img = new Image();\r\n      var canvasCopy = document.createElement(\"canvas\");\r\n      var copyContext = canvasCopy.getContext(\"2d\");\r\n\r\n      img.onload = async function () {\r\n\r\n        canvasCopy.width = img.width;\r\n        canvasCopy.height = img.height;\r\n        copyContext.drawImage(img, 0, 0);\r\n\r\n\r\n        let blob;\r\n\r\n        if ('toBlob' in canvasCopy) {\r\n          canvasCopy.toBlob(async (blob) => {\r\n            utils.log(blob);\r\n\r\n            await cb(blob);\r\n            resolve();\r\n          }, type, quality / 100);\r\n        } else {\r\n          // Welcome to Edge.\r\n          // TypeScript thinks `canvas` is 'never', so it needs casting. => (canvas as HTMLCanvasElement).toDataURL(type, quality);\r\n          const dataUrl = canvasCopy.toDataURL(type, quality / 100);\r\n          const result = /data:([^;]+);base64,(.*)$/.exec(dataUrl);\r\n\r\n          const outputType = result[1];\r\n          const binaryStr = atob(result[2]);\r\n          const data = new Uint8Array(binaryStr.length);\r\n\r\n          for (let i = 0; i < data.length; i += 1) {\r\n            data[i] = binaryStr.charCodeAt(i);\r\n          }\r\n\r\n          blob = new Blob([data], { type: outputType });\r\n          cb(blob);\r\n         resolve();\r\n        }\r\n      };\r\n      img.src = file.preview;\r\n    }\r\n  });\r\n}\r\n\r\nexport default {\r\n  canvasEncode\r\n};","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\nimport React from \"react\";\r\n\r\nimport debounce from \"lodash.debounce\";\r\n\r\nimport DAL from \"utils/DataAccess/DALimpotx.js\";\r\nimport localData from \"utils/DataAccess/localData.js\";\r\n\r\nimport { canvasEncode } from \"./compress\";\r\n\r\nvar reponses = {};\r\nvar questions = {};\r\n\r\n\r\nfunction refreshReponses() {\r\n  var reps = DAL.getReponses();\r\n  reponses = {};\r\n  if (reps) {\r\n    reponses = reps.reduce((ret, rep) => {\r\n      ret[rep.question] = rep;\r\n      return ret;\r\n    }, {});\r\n  }\r\n}\r\n\r\nfunction refreshQuestions(pQuestions) {\r\n  if (Array.isArray(pQuestions)) {\r\n    questions = pQuestions.reduce((ret, qst) => {\r\n      ret[qst.idperso] = qst;\r\n      return ret;\r\n    }, {});\r\n  } else {\r\n    questions = pQuestions;\r\n  }\r\n}\r\n\r\nfunction QuestionIdPersoToChoixRep(questionIdPerso, def) {\r\n  var ret = def;\r\n  var qstACharge = questions[questionIdPerso];\r\n  if (qstACharge) {\r\n    var rep = reponses[qstACharge._id]; // Contient l'id de la réponse mais pas le texte\r\n    if (rep) {\r\n      rep = qstACharge.choixdereponse.find(ch => ch._id === rep.choixdereponse);\r\n      if (rep) {\r\n        if (\"np-personnes-a-charge\" === questionIdPerso)\r\n          ret = parseInt(rep.texte, 10);\r\n        else\r\n          ret = rep.texte;\r\n      }\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction urlBase64ToUint8Array(base64String) {\r\n  const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\r\n  const base64 = (base64String + padding)\r\n    .replace(/-/g, \"+\")\r\n    .replace(/_/g, \"/\");\r\n\r\n  const rawData = window.atob(base64);\r\n  const outputArray = new Uint8Array(rawData.length);\r\n\r\n  for (let i = 0; i < rawData.length; ++i) {\r\n    outputArray[i] = rawData.charCodeAt(i);\r\n  }\r\n  return outputArray;\r\n}\r\n\r\nfunction keepOnlyLatestRep(reponses) {\r\n  var existingRep = {};\r\n  var rep2 = reponses\r\n    .sort((a, b) => b.createdAt < a.createdAt ? -1 : 1);\r\n  var rep3 = rep2\r\n    .filter(rep => {\r\n      if (!(rep.question in existingRep))\r\n        existingRep[rep.question] = [];\r\n\r\n      var exists = existingRep[rep.question].some(annee => annee == rep.annee);\r\n      if (!exists) {\r\n        existingRep[rep.question].push(rep.annee)\r\n      }\r\n\r\n      return !exists;\r\n    });\r\n  return rep3;\r\n}\r\n\r\nfunction stableSort(array, cmp) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = cmp(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map(el => el[0]);\r\n}\r\n\r\n\r\nconst lstIdentityQuestionIdPerso = [\r\n  \"user-last-name\",\r\n  \"user-first-name\",\r\n  \"user-no-nas\",\r\n  \"corresp-language\",\r\n  \"user-moyen-de-comm\",\r\n  \"user-sex\",\r\n  \"user-tel-day\",\r\n  \"user-tel-evening\",\r\n  //adresse,\r\n];\r\n\r\n//const identityQuestionTitreRegex = RegExp(\"(\" + lstIdentityQuestionTitre.join(\"|\") + \")\", \"i\");\r\n\r\nfunction isIdentityQuestion(question) {\r\n  return lstIdentityQuestionIdPerso.indexOf(question.idperso) >= 0;\r\n  //return question.titre.match(identityQuestionTitreRegex);\r\n}\r\n\r\nfunction filtreOnlyIdentityQuestion(questions) {\r\n  return questions.filter(question => isIdentityQuestion(question))\r\n    .map(qst => {\r\n      qst.repString = repToString(qst);\r\n      return qst;\r\n    });\r\n}\r\n\r\nfunction repToString(question) {\r\n  var rep = DAL.getReponse(question.id);\r\n  var ret = \"\";\r\n  if (rep) {\r\n    if (question.choixdereponse && question.choixdereponse.length > 0) {\r\n      rep = question.choixdereponse.find(ch => ch.id === rep.choixdereponse);\r\n      ret = rep ? rep.texte : \"\";\r\n    }\r\n    else if (question.reptype === 1)\r\n      ret = rep.texte;\r\n    else if (question.reptype === 3)\r\n      ret = rep.date;\r\n    else if (question.reptype > 3)\r\n      ret = rep.numero + \"\";\r\n  }\r\n\r\n  if (ret.length === 0) return <i>non répondu</i>;\r\n\r\n  return ret;\r\n}\r\n\r\n\r\nfunction sortDate(a, b) {\r\n  return b.t > a.t ? -1 : 1;\r\n}\r\n\r\nfunction groupBy(xs, key) {\r\n  return xs.reduce(function (rv, x) {\r\n    (rv[x[key]] = rv[x[key]] || []).push(x);\r\n    return rv;\r\n  }, {});\r\n}\r\n\r\nfunction tryAndTryAgain(fn, delay, callback) {\r\n  if (!(delay)) delay = 123;\r\n  try {\r\n    if (callback) callback(fn());\r\n    else fn();\r\n  } catch (ex) {\r\n    var fnApplyStyle = () => {\r\n      setTimeout(() => {\r\n        try {\r\n          if (callback) callback(fn());\r\n          else fn();\r\n        } catch (ex) {\r\n          fnApplyStyle();\r\n        }\r\n      }, delay);\r\n    }\r\n  }\r\n}\r\n\r\nfunction myCompare(obj1, obj2, lstParams) {\r\n  return lstParams.every(param => obj1[param] == obj2[param]);\r\n  // TODO : allow to recurse compare children Objects\r\n}\r\n\r\nconst getCatTitre = id => (DAL.getDepenses().find(dep => dep.idperso == id)\r\n  || DAL.getFeuillets().find(dep => dep.idperso == id)\r\n  || { titre: id })\r\n  .titre;\r\n\r\n\r\n//CHANGE LANG LISTENERS\r\nvar listeners = {};\r\nfunction addListener(event, id, callback) {\r\n  if (!(event in listeners)) listeners[event] = {};\r\n  listeners[event][id] = callback;\r\n}\r\nfunction removeListener(event, id) {\r\n  if (event in listeners) {\r\n    delete listeners[event][id];\r\n  }\r\n}\r\nfunction callEvent(event, params) {\r\n  if (event in listeners) {\r\n    Object.values(listeners[event])\r\n      .forEach(cb => {\r\n        cb(params);\r\n      });\r\n  }\r\n}\r\n\r\nlet _evDebouncer = {};\r\nlet throttledCallEvent = (ev, val) => {\r\n  if (!_evDebouncer[ev])\r\n    _evDebouncer[ev] = debounce((value) => {\r\n      callEvent(ev, value);\r\n    }, 500, { leading: true, trailing: true });\r\n  _evDebouncer[ev](val);\r\n};\r\n\r\nvar thSet = debounce((that) => {\r\n    if(that._unmounted) return;\r\n    that.setState(that._debouncedState);\r\n    that._debouncedState = {}; \r\n}, 100, { leading: false, trailing: true });\r\n\r\nfunction throttledSetState(param) {\r\n  this._debouncedState = this._debouncedState || {};\r\n  this._debouncedState = { ...this._debouncedState, ...param };\r\n  thSet(this);\r\n}\r\n\r\nfunction testPermission(cbPrompt, cbGranted, cbDenied) {\r\n\r\n  if (navigator &&\r\n    navigator.permissions &&\r\n    navigator.permissions.query) {\r\n    navigator.permissions\r\n      .query({ name: \"notifications\" })\r\n      .then(res => {\r\n        this.log(\"Notifications : \" + res.state);\r\n        if (res.state === 'prompt') {\r\n          if (cbPrompt)\r\n            cbPrompt();\r\n        } else if (res.state === 'granted') {\r\n          if (cbGranted)\r\n            cbGranted();\r\n        }\r\n        else {\r\n          if (cbDenied)\r\n            cbDenied();\r\n        }\r\n      });\r\n  } else if (cbDenied) {\r\n    cbDenied();\r\n  }\r\n}\r\n\r\nfunction lateEnoughAfterNo() {\r\n  const sec = 1000;\r\n  const secInMin = 60;\r\n  const mininH = 60;\r\n  const HinD = 24;\r\n  const lastSaidNo = localData.getStorage(\"saidNoNotif\");\r\n  return !(lastSaidNo > Date.now() - sec * secInMin * mininH * HinD * 7);\r\n}\r\n\r\nfunction memorySizeOf(obj) {\r\n  var bytes = 0;\r\n\r\n  function sizeOf(obj) {\r\n    if (obj !== null && obj !== undefined) {\r\n      // eslint-disable-next-line\r\n      switch (typeof obj) {\r\n        case 'number':\r\n          bytes += 8;\r\n          break;\r\n        case 'string':\r\n          bytes += obj.length * 2;\r\n          break;\r\n        case 'boolean':\r\n          bytes += 4;\r\n          break;\r\n        case 'object':\r\n          var objClass = Object.prototype.toString.call(obj).slice(8, -1);\r\n          if (objClass === 'Object' || objClass === 'Array') {\r\n            for (var key in obj) {\r\n              if (!obj.hasOwnProperty(key)) continue;\r\n              sizeOf(obj[key]);\r\n            }\r\n          } else bytes += obj.toString().length * 2;\r\n          break;\r\n      }\r\n    }\r\n    return bytes;\r\n  };\r\n\r\n  function formatByteSize(bytes) {\r\n    if (bytes < 1024) return bytes + \" bytes\";\r\n    else if (bytes < 1048576) return (bytes / 1024).toFixed(3) + \" KiB\";\r\n    else if (bytes < 1073741824) return (bytes / 1048576).toFixed(3) + \" MiB\";\r\n    else return (bytes / 1073741824).toFixed(3) + \" GiB\";\r\n  };\r\n\r\n  return formatByteSize(sizeOf(obj));\r\n};\r\n\r\nfunction combineUrl(path1, path2) {\r\n  if (typeof (path1) !== \"string\" || typeof (path2) !== \"string\") {\r\n    console.error(\"Should be 2 strings to combine\");\r\n  }\r\n  if (path1.endsWith(\"/\")) {\r\n    if (path2.startsWith(\"/\"))\r\n      return path1 + path2.subString(1, path2.length);\r\n    else\r\n      return path1 + path2;\r\n  }\r\n  else {\r\n    if (path2.startsWith(\"/\"))\r\n      return path1 + path2;\r\n    else\r\n      return path1 + \"/\" + path2;\r\n  }\r\n}\r\n\r\nfunction isPDF(url) {\r\n  return url && /.*pdf/gi.test(url);\r\n}\r\n\r\nfunction pdfUrlReform(url) {\r\n  if (isPDF(url)) {\r\n    return url.substring(0, url.length - 3) + \"png\";\r\n  }\r\n  return url;\r\n}\r\n\r\nfunction isNumeric(n) {\r\n  return !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\n\r\nfunction toWebP(imgUrl) {\r\n  if (canUseWebP() && imgUrl) {\r\n    var imgParts = imgUrl.split(\".\");\r\n    imgParts.pop();\r\n    imgParts.push(\"webp\");\r\n    return imgParts.join(\".\");\r\n  }\r\n  return imgUrl;\r\n}\r\n\r\nfunction canUseWebP() {\r\n  var cached = localData.getStorage(\"SupportWebP\");\r\n  if (cached == null) {\r\n    var elem = document.createElement('canvas');\r\n\r\n    if (!!(elem.getContext && elem.getContext('2d'))) {\r\n      // was able or not to get WebP representation\r\n      cached = (elem.toDataURL('image/webp').indexOf('data:image/webp') == 0) ? \"yes\" : \"no\";\r\n      localData.setStorage(\"SupportWebP\", cached);\r\n    } else {\r\n      cached = \"no\";\r\n      localData.setStorage(\"SupportWebP\", cached);\r\n    }\r\n  }\r\n\r\n  return /yes/i.test(cached);\r\n}\r\n\r\nfunction replaceBR(str) {\r\n  var newStr = str.split(\"<br>\");\r\n  var ret = <>{newStr.pop()}</>;\r\n  while (newStr.length >= 1) {\r\n    ret = <>{newStr.pop()}<br />{ret}</>;\r\n  }\r\n  return ret;\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\r\nfunction replaceA(str){\r\n  let reg = /\\<a.*href=.(.*)\\\".*\\>(.*)<\\/a>/gi;\r\n\r\n  let arr = reg.exec(str);\r\n  //console.log(arr);\r\n\r\n  let splited = str.replace(reg, \"_a_\").split(\"_a_\");    \r\n  let ret = <></>;//<>{splited.pop()}</>;\r\n\r\n  if(splited.length >= 1){\r\n    while (splited.length >= 1 ) {\r\n      if( arr && arr.length > 2){\r\n        let txt = arr.pop();\r\n        let href = arr.pop();\r\n        let fullMatch = arr.pop();\r\n        ret = <>{<a href={href} target=\"_blank\">{txt}</a>}{splited.pop()}{ret}</>;\r\n      }else{\r\n        ret = <>{splited.pop()}{ret}</>;\r\n      }\r\n    }\r\n  }else{\r\n    ret = str;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction escapeRegExp(string) {\r\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole  matched string\r\n}\r\n\r\nconst isDev = () => /^dev.*/gi.test(process.env.NODE_ENV);\r\nconst isProd = () => !isDev();\r\nconst log = (str) => {\r\n  if (isDev()) {\r\n    console.log(str);\r\n  }\r\n};\r\nconst isChatActive = () => /true/gi.test(process.env.REACT_APP_ACTIVATE_CHAT);\r\n\r\nfunction convertArrayOfObjectsToCSV(args) {\r\n  var result, ctr, keys, columnDelimiter, lineDelimiter, data;\r\n\r\n  data = args.data || null;\r\n  if (data == null || !data.length) {\r\n    return null;\r\n  }\r\n\r\n  columnDelimiter = args.columnDelimiter || ',';\r\n  lineDelimiter = args.lineDelimiter || '\\n';\r\n\r\n  keys = Object.keys(data[0]);\r\n\r\n  result = '';\r\n  result += keys.join(columnDelimiter);\r\n  result += lineDelimiter;\r\n\r\n  data.forEach(function (item) {\r\n    ctr = 0;\r\n    keys.forEach(function (key) {\r\n      if (ctr > 0) result += columnDelimiter;\r\n\r\n      result += item[key];\r\n      ctr++;\r\n    });\r\n    result += lineDelimiter;\r\n  });\r\n\r\n  return result;\r\n}\r\nfunction downloadCSV(args) {\r\n  var data, filename, link;\r\n  var csv = convertArrayOfObjectsToCSV({ data });\r\n  if (csv == null) return;\r\n\r\n  filename = args.filename || 'export.csv';\r\n\r\n  if (!csv.match(/^data:text\\/csv/i)) {\r\n    csv = 'data:text/csv;charset=utf-8,' + csv;\r\n  }\r\n  data = encodeURI(csv);\r\n\r\n  link = document.createElement('a');\r\n  link.setAttribute('href', data);\r\n  link.setAttribute('download', filename);\r\n  link.click();\r\n}\r\nconsole.log(\"Utils.toWebP : \" + toWebP(\"imgTest.jpg\"));\r\nexport default {\r\n  groupBy,\r\n  downloadCSV,\r\n  isProd,\r\n  isDev,\r\n  log,\r\n  isChatActive,\r\n  isAnneesActive : () => false,\r\n  isDocsActive : () => false,///true/gi.test(process.env.REACT_APP_ACTIVATE_DOCS),\r\n  escapeRegExp,\r\n  replaceBR,\r\n  replaceA,\r\n  toWebP,\r\n  canUseWebP,\r\n  isNumeric,\r\n  combineUrl,\r\n  memorySizeOf,\r\n  lateEnoughAfterNo,\r\n  testPermission,\r\n  refreshQuestions,\r\n  refreshReponses,\r\n  QuestionIdPersoToChoixRep: QuestionIdPersoToChoixRep,\r\n  urlBase64ToUint8Array: urlBase64ToUint8Array,\r\n  keepOnlyLatestRep: keepOnlyLatestRep,\r\n  stableSort: stableSort,\r\n  filtreOnlyIdentityQuestion: filtreOnlyIdentityQuestion, \r\n  tryAndTryAgain: tryAndTryAgain,\r\n  getCatTitre: getCatTitre,\r\n  myCompare: myCompare,\r\n\r\n  pdfUrlReform,\r\n\r\n  addListener,\r\n  removeListener,\r\n  callEvent,\r\n  throttledCallEvent,\r\n  throttledSetState,\r\n\r\n  getFB: (fbData, key) => {\r\n    (\"database.state.\"+key).split(\".\").forEach(k=>{\r\n      if(fbData) fbData = fbData[k];\r\n    });\r\n    return fbData;\r\n  },\r\n\r\n  shorterString: (str, len, endChar = 3) => {\r\n    if(str.length > len)\r\n      return str.slice(0,len-(3+endChar)) + \"...\" + str.slice(-endChar);\r\n    else\r\n      return str;\r\n  },\r\n\r\n  canvasEncode\r\n};","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\n \r\n\r\n// Consider memoize libraries : https://itnext.io/how-i-wrote-the-worlds-fastest-react-memoization-library-535f89fc4a17\r\n// Here : https://github.com/theKashey/memoize-state\r\nconst DAL =  {\r\n  todo:\"All this\"\r\n} \r\n\r\n\r\nexport default DAL;\r\n","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\n\r\nimport utils from \"utils/utils\";\r\nimport DAL from \"utils/DataAccess/DALimpotx.js\";\r\n\r\n// Consider memoize libraries : https://itnext.io/how-i-wrote-the-worlds-fastest-react-memoization-library-535f89fc4a17\r\n// Here : https://github.com/theKashey/memoize-state\r\n\r\nvar _ongoingQueries = {};\r\n\r\nconst storage = {\r\n\r\n  clearCache(key) {\r\n    if (this._cache)\r\n      delete this._cache[key];\r\n  },\r\n\r\n  clearStorage(key) {\r\n    this.clearCache(key);\r\n\r\n    if (localStorage && localStorage.getItem(key)) {\r\n      return localStorage.removeItem(key);\r\n    }\r\n  },\r\n\r\n  clearAppStorage() {\r\n    this._cache = {};\r\n\r\n    if (localStorage) {\r\n      localStorage.clear();\r\n    }\r\n  },\r\n\r\n  get(key, nullValue) {\r\n    if (this._cache == null) this._cache = {};\r\n    if (this._cache[key] === null)\r\n      return nullValue;\r\n    return this._cache[key];\r\n  },\r\n\r\n  set(key, value) {\r\n    if (this._cache == null) this._cache = {};\r\n    this._cache[key] = value;\r\n  },\r\n\r\n  getStorage(key, nullValue) {\r\n    var ret = this.get(key);\r\n    if (ret) return ret;\r\n\r\n    if (localStorage) {\r\n      ret = localStorage.getItem(key);\r\n      if (ret) {\r\n        try {\r\n          ret = JSON.parse(ret);\r\n        } catch (ex) {\r\n          utils.log(ex);\r\n          ret = null;\r\n        }\r\n      }\r\n      this._cache[key] = ret;\r\n    }\r\n\r\n    if (ret === null)\r\n      return nullValue;\r\n    else\r\n      return ret;\r\n  },\r\n\r\n  setStorage(key, value) {\r\n    this.set(key, value);\r\n\r\n    if (localStorage) {\r\n      try{\r\n        localStorage.setItem(key, JSON.stringify(value));\r\n      }catch(ex){\r\n        console.error(ex);\r\n      }\r\n    }\r\n  },\r\n\r\n  checkLocalDataAdmin() {\r\n    //_checkAndGetDAL(\"getUsers\", DAL.getUsers);\r\n    _checkAndGetDAL(\"getQuestionsById\", DAL.getQuestions);\r\n  }\r\n\r\n}\r\n\r\nfunction _checkAndGetDAL(cacheName, DALfn) {\r\n  if (!(cacheName in localStorage) && !_ongoingQueries[cacheName]) {\r\n    DALfn(true)\r\n      .then(res => { delete _ongoingQueries[cacheName]; });\r\n    _ongoingQueries[cacheName] = Date.now();\r\n    utils.log(\"_check and get DAL : \" + cacheName + \" was not cached\");\r\n  }\r\n}\r\n\r\n\r\nexport default storage;\r\n","import React from \"react\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport utils from \"utils/utils\";\r\n\r\nfunction allowRedirect(WrappedComponent, PageName) {\r\n  return class extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n      };//remove comment\r\n\r\n      this.handleRedirect = this.handleRedirect.bind(this);\r\n    }\r\n\r\n    handleRedirect(target) {\r\n      this.setState({ redirect: target });\r\n    }\r\n\r\n    componentDidMount() {\r\n      utils.addListener(\"language\", PageName, (ev) => {\r\n        this.forceUpdate();\r\n      });\r\n    }\r\n    componentWillUnmount() {\r\n      utils.removeListener(\"language\", PageName);\r\n    }\r\n\r\n    render() {\r\n      if (this.state.redirect) {\r\n        return <Redirect to={this.state.redirect} />;\r\n      } else {\r\n        return <WrappedComponent setRedirect={this.handleRedirect} {...this.props} />;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nexport default allowRedirect;","import allowRedirect from \"./allowRedirect\";\r\n//import subscriptions from \"./subscriptions\";\r\n\r\nconst mergedHOC = (rawComp, PageName, p2, p3) => allowRedirect(rawComp, PageName);\r\n//subscriptions(allowRedirect(rawComp), p1,p2,p3);\r\n\r\nexport default mergedHOC;","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\nimport utils from \"./utils.js\";\r\nimport localData from \"./DataAccess/localData.js\";\r\nimport uuidv4 from 'uuid/v4';\r\n \r\n\r\nconst TOKEN_KEY = 'jwtToken'; \r\nconst USER_INFO = 'userInfo';\r\n\r\n\r\nconst auth = {\r\n  get() {\r\n    return localData.get.apply(localData, arguments);\r\n  },\r\n  set() {\r\n    localData.set.apply(localData, arguments);\r\n  },\r\n  clearAppStorage() {\r\n    localData.clearAppStorage();\r\n  },\r\n  clearToken() {\r\n    localData.clearStorage(TOKEN_KEY); \r\n  },\r\n  clearUserInfo() {\r\n    localData.clearStorage(USER_INFO);\r\n  },\r\n  //// Messagse Toast / Snackbar \r\n  // primary, warning, danger\r\n  showToast(msg, time, type) {\r\n    if (!time) time = 3000;\r\n    if (!type) type = \"primary\";\r\n    var messages = localData.get(\"snackMessages\", true);\r\n    if (!messages) messages = [];\r\n    var newId = uuidv4();\r\n    messages = [{ text: msg, type: type, time: time, id: newId }, ...messages];\r\n    localData.set(\"snackMessages\", messages);\r\n    return newId;\r\n  },\r\n\r\n  getToast() {\r\n    var messages = localData.get(\"snackMessages\", true);\r\n    if (!messages) messages = [];\r\n    return messages[messages.length - 1];\r\n  },\r\n  getAllToasts() {\r\n    var messages = localData.get(\"snackMessages\", true);\r\n    if (!messages) messages = [];\r\n    return messages;\r\n  },\r\n\r\n  removeToast(id) {\r\n    var messages = localData.get(\"snackMessages\", true);\r\n    if (!messages) messages = [];\r\n    localData.set(\"snackMessages\", messages.filter(msg => msg.id != id));\r\n  },\r\n\r\n  getScrollTarget() {\r\n    return localData.get(\"scrollTarget\");\r\n  },\r\n  setScrollTarget(value) {\r\n    localData.set(\"scrollTarget\", value);\r\n  },\r\n\r\n  refreshSelectedUser() {\r\n    /* if(this.get(\"selectedUser\"))\r\n     {\r\n       return DAL.findUser(this.get(selectedUser).id)\r\n       .then(res=>{\r\n         this.set(\"selectedUser\", res);\r\n         return \"ok\";\r\n       });\r\n     }\r\n     return null;*/\r\n  },\r\n  getToken(tokenKey = TOKEN_KEY) {\r\n    return localData.getStorage(tokenKey);\r\n  }, \r\n  getUserInfo(userInfo = USER_INFO) {\r\n    return localData.getStorage(userInfo);\r\n  },\r\n\r\n\r\n  setToken(value = '', isLocalStorage = false, tokenKey = TOKEN_KEY) {\r\n    return localData.setStorage(tokenKey, value, isLocalStorage);\r\n  }, \r\n  setUserInfo(value = {}, isLocalStorage = false, userInfo = USER_INFO) {\r\n    try {\r\n      if (value &&\r\n        value.reponses) {\r\n        utils.log(\"Rep Before filtered : \" + value.reponses.length);\r\n        value.reponses = utils.keepOnlyLatestRep(value.reponses);\r\n        utils.log(\"Rep After filtered : \" + value.reponses.length);\r\n\r\n        if (!utils.isDocsActive()) {\r\n          value.messages = value.messages.filter(msg => !msg.doc)\r\n        }\r\n      }\r\n      value.id = value.id || value._id;\r\n      localData.setStorage(\"currentUserId\", value.id);\r\n    } catch (ex) { }\r\n    var ret = localData.setStorage(userInfo, value);\r\n\r\n    return ret;\r\n  },\r\n\r\n  addRep(newRep) { // now adding the real, inserted rep\r\n    var usr = this.getUserInfo();\r\n    var rep = usr.reponses\r\n      .filter(oldRep => oldRep.question !== newRep.question);\r\n    rep.push(newRep);\r\n    usr.reponses = rep;\r\n    if (!this.isAdmin()) {\r\n      this.setUserInfo(usr, true);\r\n    }\r\n  },\r\n\r\n  isAdmin() {\r\n    let token = this.getToken();\r\n    let curUsr = this.getUserInfo();\r\n    let role = curUsr && curUsr.role;\r\n    let roleName = role && role.name;\r\n    return token && roleName && /(Administrator|Comptable)/i.test(roleName);\r\n  },\r\n\r\n  isSuperAdmin() {\r\n    let token = this.getToken();\r\n    let curUsr = this.getUserInfo();\r\n    let role = curUsr && curUsr.role;\r\n    let roleName = role && role.name;\r\n    return token && roleName && /(Administrator)/i.test(roleName);\r\n  },\r\n\r\n  getActiveUserId() {\r\n    if (auth.isAdmin()) {\r\n      //let selUsr = localData.getStorage(\"selectedUser\");\r\n      //return selUsr ? selUsr._id : \"\";\r\n      return localData.getStorage(\"currentUserId\");\r\n    } else {\r\n      var userInfo = auth.getUserInfo();\r\n      return userInfo ? userInfo._id : \"\";\r\n    }\r\n  },\r\n  getActiveAdminId() {\r\n    if (auth.isAdmin()) {\r\n      return auth.getUserInfo()._id;\r\n    } else {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  isFr() {\r\n    var authLang = localData.get(\"prefLang\");\r\n    var qstLang = utils.QuestionIdPersoToChoixRep(\"corresp-language\", \"Francais\");\r\n\r\n    var selected = authLang || qstLang || \"Français\";\r\n\r\n    return /.*fr.*/i.test(selected);\r\n  },\r\n\r\n}\r\n\r\n\r\nexport default auth;\r\n","import React from \"react\"; \r\nimport classNames from \"classnames\"; \r\nimport PropTypes from \"prop-types\";  \r\n \r\nconst  Button = ({children, ...props}) => {\r\n    \r\n    return <button {...props} >{children}</button>\r\n  }\r\n\r\nexport default Button;","const impotStyle = {  \r\n  mainRaised: {\r\n    margin: \"-60px 30px 0px\", \r\n    paddingBottom: \"20px\",\r\n    borderRadius: \"6px\",\r\n    boxShadow:\r\n      \"0 16px 24px 2px rgba(0, 0, 0, 0.14), 0 6px 30px 5px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)\",\r\n      \"@media (max-width: 500px)\": {\r\n        margin: \"-60px 0px 0px\",\r\n      },\r\n  },\r\n\r\n  mainContentMargin: {\r\n    margin:30,\r\n    \"@media (max-width: 500px)\": {\r\n      margin: 5,\r\n    },\r\n  }\r\n};\r\n\r\nexport default impotStyle;\r\n","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"invariant\";\nimport { createLocation } from \"history\";\n\nvar isModifiedEvent = function isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n};\n/**\n * The public API for rendering a history-aware <a>.\n */\n\n\nvar Link = function (_React$Component) {\n  _inherits(Link, _React$Component);\n\n  function Link() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Link);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (_this.props.onClick) _this.props.onClick(event);\n\n      if (!event.defaultPrevented && // onClick prevented default\n      event.button === 0 && // ignore everything but left clicks\n      !_this.props.target && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n      ) {\n          event.preventDefault();\n          var history = _this.context.router.history;\n          var _this$props = _this.props,\n              replace = _this$props.replace,\n              to = _this$props.to;\n\n          if (replace) {\n            history.replace(to);\n          } else {\n            history.push(to);\n          }\n        }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Link.prototype.render = function render() {\n    var _props = this.props,\n        replace = _props.replace,\n        to = _props.to,\n        innerRef = _props.innerRef,\n        props = _objectWithoutProperties(_props, [\"replace\", \"to\", \"innerRef\"]); // eslint-disable-line no-unused-vars\n\n\n    invariant(this.context.router, \"You should not use <Link> outside a <Router>\");\n    invariant(to !== undefined, 'You must specify the \"to\" property');\n    var history = this.context.router.history;\n    var location = typeof to === \"string\" ? createLocation(to, null, null, history.location) : to;\n    var href = history.createHref(location);\n    return React.createElement(\"a\", _extends({}, props, {\n      onClick: this.handleClick,\n      href: href,\n      ref: innerRef\n    }));\n  };\n\n  return Link;\n}(React.Component);\n\nLink.propTypes = {\n  onClick: PropTypes.func,\n  target: PropTypes.string,\n  replace: PropTypes.bool,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  innerRef: PropTypes.oneOfType([PropTypes.string, PropTypes.func])\n};\nLink.defaultProps = {\n  replace: false\n};\nLink.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n      createHref: PropTypes.func.isRequired\n    }).isRequired\n  }).isRequired\n};\nexport default Link;","/*eslint-disable*/\r\nimport React, { Fragment } from \"react\";\r\n// react components for routing our app without refresh\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport impoHOC from \"HoC/impoHOC.js\";\r\n \r\n\r\n// core components \r\nimport Button from \"components/CustomButtons/Button.jsx\";\r\n\r\nimport headerLinksStyle from \"assets/jss/material-kit-react/components/headerLinksStyle.jsx\";\r\n \r\n// Utils\r\nimport auth from 'utils/auth';\r\nimport utils from 'utils/utils';\r\nimport DAL from \"utils/DataAccess/DALimpotx\";\r\nimport translatedTxt from 'texts/localization';  \r\n\r\nfunction Transition(props) {\r\n  return <Slide direction=\"down\" {...props} />;\r\n}\r\n\r\nfunction isUser() {\r\n  // console.log(auth.getUserInfo());\r\n  return auth.getToken() && !auth.isAdmin();\r\n  //return auth.getToken() && !auth.getUserInfo().role.name.match(/(Administrator|Comptable)/i);\r\n}\r\n \r\n\r\nclass HeaderLinks extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // const { classes } = props;\r\n\r\n    this.state = {\r\n      classicModal: false,\r\n      redirect: null,\r\n      notifOpen: false,\r\n      notifCount: 1,\r\n      usersOnline: 0, \r\n    };\r\n\r\n    this.getLoginModal = this.getLoginModal.bind(this);\r\n    this.renderRedirects = this.renderRedirects.bind(this);\r\n  }\r\n\r\n  handleClickOpen(modal) {\r\n    if (auth.getToken()) {\r\n      utils.callEvent(\"Logout\");\r\n      auth.clearAppStorage();\r\n      var loc = this.props.Location || this.props.location || window.location.href;\r\n      loc = loc.split(\".com\").pop().split(\":3000\").pop();\r\n      if (loc.length > 1) {\r\n        this.setState({ redirect: \"/\" });\r\n      }\r\n      else {\r\n        if(this.props.onLogout)\r\n          {\r\n            utils.callEvent(\"Logout\");\r\n            this.props.onLogout();\r\n          }\r\n      }\r\n      auth.showToast(translatedTxt.toastBye, null, \"info\");\r\n    } else {\r\n      var x = [];\r\n      x[modal] = true;\r\n      this.setState(x);\r\n    }\r\n  }\r\n\r\n  handleClose(modal) {\r\n    var x = [];\r\n    x[modal] = false;\r\n    this.setState(x);\r\n  }\r\n\r\n  handleCloseModal() {\r\n    if (!this._isClosing) {\r\n      this.setState({ classicModal: false });\r\n    }\r\n  } \r\n  componentWillUnmount() {\r\n    this._isClosing = true;\r\n    utils.removeListener(\"userSentMessage\", \"headerLinks\");\r\n  }\r\n\r\n  renderRedirects() {\r\n    if (this.state.redirectTarget) {\r\n      return <Redirect to={\"/\" + this.state.redirectTarget} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getLoginModal(classes) {\r\n    return (\r\n      <div>\r\n        {this.renderRedirects()}\r\n        <Button\r\n          color=\"primary\"\r\n          block\r\n          onClick={() => this.handleClickOpen(\"classicModal\")}\r\n        >\r\n          <People />\r\n          {auth.getToken() ? translatedTxt.headLogout : translatedTxt.headLogin}\r\n        </Button>\r\n        <Dialog\r\n          classes={{\r\n            root: classes.center,\r\n            paper: classes.modal\r\n          }}\r\n          open={this.state.classicModal}\r\n          TransitionComponent={Transition}\r\n          keepMounted\r\n          onClose={() => this.handleClose(\"classicModal\")}\r\n          aria-labelledby=\"classic-modal-slide-title\"\r\n          aria-describedby=\"classic-modal-slide-description\"\r\n        >\r\n\r\n          <DialogContent\r\n            id=\"classic-modal-slide-description\"\r\n            className={classes.modalBody}\r\n          > \r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    if (this.state.redirect) return <Redirect to={this.state.redirect} />;\r\n\r\n    var isDev =  /^dev.*/gi.test(process.env.NODE_ENV);\r\n    var styleDisableTwitter = isDev ? {} : { pointerEvents: 'none', color:\"#aaa\" };\r\n    \r\n    utils.log(styleDisableTwitter);\r\n    \r\n    return (\r\n      <List className={classes.list}>\r\n \r\n\r\n        {(isUser() && utils.isDocsActive())&& (\r\n          <ListItem className={classes.listItem}>\r\n            <Link to=\"/docs-page\"\r\n              className={classes.navLink}\r\n              style={{ textDecoration: 'none' }}>\r\n              Documents\r\n            </Link>\r\n          </ListItem>)}\r\n\r\n        {isUser() && (\r\n          <ListItem className={classes.listItem}>\r\n            <Link to=\"/questions-page\"\r\n              className={classes.navLink}\r\n              style={{ textDecoration: 'none' }}>\r\n              Questions\r\n            </Link>\r\n          </ListItem>)}\r\n   \r\n\r\n        {auth.isAdmin() && (\r\n          <ListItem className={classes.listItem}>\r\n            <Link to=\"/find-user-page\"\r\n              className={classes.navLink}\r\n              style={{ textDecoration: 'none' }}>\r\n              {translatedTxt.headFindUser}\r\n            </Link>\r\n          </ListItem>)}\r\n\r\n        {isUser() && (\r\n          <ListItem className={classes.listItem}>\r\n            <Link to=\"/user-profile-page\"\r\n              className={classes.navLink}\r\n              style={{ textDecoration: 'none' }}>\r\n              {translatedTxt.headmonProfile}\r\n            </Link>\r\n          </ListItem>)}\r\n\r\n        <ListItem className={classes.listItem}>\r\n          {this.getLoginModal(classes)}\r\n        </ListItem>\r\n\r\n{isDev && \r\n        <ListItem className={classes.listItem}>\r\n          <Tooltip\r\n            id=\"instagram-twitter\"\r\n            title=\"Follow us on twitter\"\r\n            placement={window.innerWidth > 959 ? \"top\" : \"left\"}\r\n            classes={{ tooltip: classes.tooltip }}\r\n          >\r\n            <Link\r\n              to=\"/component-page\"\r\n              color=\"transparent\"\r\n              className={classes.navLink}\r\n              aria-label=\"tweeter\"\r\n              style={styleDisableTwitter}\r\n            >\r\n              <i className={classes.socialIcons + \" fab fa-twitter\"} />\r\n            </Link>\r\n          </Tooltip>\r\n        </ListItem>}\r\n         \r\n        {isDev && \r\n        <ListItem className={classes.listItem}>\r\n          <Tooltip\r\n            id=\"instagram-facebook\"\r\n            title=\"Follow us on facebook\"\r\n            placement={window.innerWidth > 959 ? \"top\" : \"left\"}\r\n            classes={{ tooltip: classes.tooltip }}\r\n          >\r\n            <Button\r\n              color=\"transparent\"\r\n              href=\"https://www.facebook.com/CreativeTim\"\r\n              target=\"_blank\"\r\n              className={classes.navLink}\r\n              disabled\r\n              aria-label=\"Facebook\"\r\n            >\r\n              <i className={classes.socialIcons + \" fab fa-facebook\"} />\r\n            </Button>\r\n          </Tooltip>\r\n        </ListItem>}\r\n      </List>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default (HeaderLinks);\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\"; \r\n\r\n//Image Logo \r\nimport HeaderLinks from \"components/Header/HeaderLinks.jsx\";\r\n\r\nimport utils from \"utils/utils\";\r\nimport { useStore } from 'utils/mobx/ConfigStore';\r\nimport { observer } from 'mobx-react-lite';\r\n//TODO Ludovic : Ajouter MobX pour que Qst List lui dise quand se cacher \r\n\r\nimport throttle from 'lodash.throttle';\r\nimport { useEffect } from \"react\";\r\n\r\nconst WithMobx = observer((props) => {\r\n  const store = useStore()\r\n  useEffect(() => {\r\n    console.log(store.replacesStickyHeader)\r\n  }, [store.replacesStickyHeader])\r\n\r\n  return <Header {...props} stickyReplace={store.replacesStickyHeader} />\r\n})\r\n\r\nconst Header = (props) => {\r\n\r\n  const {\r\n    classes,\r\n    color,\r\n    leftLinks,\r\n    //brand,\r\n    fixed,\r\n    absolute,\r\n    stickyReplace\r\n  } = props;\r\n  const rightLinks = props.rightLinks || <HeaderLinks onLogout={()=>{}} />; \r\n  let ifSticky = stickyReplace ? \" \" + classes.stickyHidden : \"\";\r\n\r\n  return (\r\n    <div>\r\n      TODO : My header\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\nHeader.defaultProp = {\r\n  color: \"white\"\r\n};\r\n\r\nHeader.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  color: PropTypes.oneOf([\r\n    \"primary\",\r\n    \"info\",\r\n    \"success\",\r\n    \"warning\",\r\n    \"danger\",\r\n    \"transparent\",\r\n    \"white\",\r\n    \"rose\",\r\n    \"dark\"\r\n  ]),\r\n  rightLinks: PropTypes.node,\r\n  leftLinks: PropTypes.node,\r\n  brand: PropTypes.string,\r\n  fixed: PropTypes.bool,\r\n  absolute: PropTypes.bool, \r\n  changeColorOnScroll: PropTypes.shape({\r\n    height: PropTypes.number.isRequired,\r\n    color: PropTypes.oneOf([\r\n      \"primary\",\r\n      \"info\",\r\n      \"success\",\r\n      \"warning\",\r\n      \"danger\",\r\n      \"transparent\",\r\n      \"white\",\r\n      \"rose\",\r\n      \"dark\"\r\n    ]).isRequired\r\n  })\r\n};\r\n\r\nexport default  (WithMobx);\r\n","import { container, primaryColor } from \"assets/jss/material-kit-react.jsx\";\r\n\r\nconst footerStyle = {\r\n  block: {\r\n    color: \"inherit\",\r\n    padding: \"0.9375rem\",\r\n    fontWeight: \"500\",\r\n    fontSize: \"12px\",\r\n    textTransform: \"uppercase\",\r\n    borderRadius: \"3px\",\r\n    textDecoration: \"none\",\r\n    position: \"relative\",\r\n    display: \"block\",\r\n    \"@media (max-width: 350px)\": { \r\n      padding: \"5px 10px\",\r\n    },\r\n  },\r\n  left: {\r\n    float: \"left!important\",\r\n    display: \"block\"\r\n  },\r\n  right: {\r\n    margin: \"0\",\r\n    \"@media (min-width: 460px)\": { \r\n      padding: \"15px 0\",\r\n      float: \"right!important\",\r\n    },\r\n    \"@media (max-width: 350px)\": { \r\n      padding: 0,\r\n      float: \"none\",\r\n      display:\"inline-block\"\r\n    },\r\n  },\r\n  footer: {\r\n    padding: \"0.9375rem 0\",\r\n    textAlign: \"center\",\r\n    display: \"flex\",\r\n    zIndex: \"2\",\r\n    position: \"relative\"\r\n  },\r\n  a: {\r\n    color: primaryColor,\r\n    textDecoration: \"none\",\r\n    backgroundColor: \"transparent\"\r\n  },\r\n  inheritColor:{\r\n    color: \"inherit\",\r\n  },\r\n  footerWhiteFont: {\r\n    \"&,&:hover,&:focus\": {\r\n      color: \"#FFFFFF\"\r\n    }\r\n  },\r\n  container,\r\n  list: {\r\n    marginBottom: \"0\",\r\n    padding: \"0\",\r\n    marginTop: \"0\"\r\n  },\r\n  inlineBlock: {\r\n    display: \"inline-block\",\r\n    padding: \"0px\",\r\n    width: \"auto\"\r\n  },\r\n  icon: {\r\n    width: \"18px\",\r\n    height: \"18px\",\r\n    position: \"relative\",\r\n    top: \"3px\"\r\n  }\r\n};\r\nexport default footerStyle;\r\n","/*eslint-disable*/\r\nimport React from \"react\";\r\n// nodejs library to set properties for components\r\nimport PropTypes from \"prop-types\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\";\r\n\r\n// @material-ui/icons\r\n//import Favorite from \"@material-ui/icons/Favorite\";\r\n\r\nimport footerStyle from \"assets/jss/material-kit-react/components/footerStyle.jsx\";\r\n \r\nimport auth from \"utils/auth.js\";\r\nimport utils from \"utils/utils.js\";\r\nimport localData from 'utils/DataAccess/localData';\r\nimport translatedTxt from 'texts/localization';\r\n\r\n\r\nclass Footer extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var selectVal = this.getSavedLanguage();\r\n\r\n    translatedTxt.setLanguage(selectVal);\r\n\r\n    this.state = {\r\n      language: selectVal\r\n    };\r\n\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n\r\n  handleChange = name => event => {\r\n    var newVal = event.target.value;\r\n    this.setState({ [name]: newVal });\r\n    if (newVal != \"\") {\r\n      localData.setStorage(\"prefLang\", newVal);\r\n      setTimeout(() => utils.callEvent(\"language\"), 100);\r\n    }\r\n    //TODO : Comment reloader tous les texts?\r\n  }\r\n\r\n  getSavedLanguage() {\r\n    return auth.isFr() ? \"fr\" : \"en\";\r\n  }\r\n\r\n  render() {\r\n    let  { classes, whiteFont } = this.props;\r\n\r\n    if(classes == null) classes = {};\r\n\r\n    const footerClasses = classNames({\r\n      [classes.footer]: true,\r\n      [classes.footerWhiteFont]: whiteFont\r\n    });\r\n    const aClasses = classNames({\r\n      [classes.a]: true,\r\n      [classes.footerWhiteFont]: whiteFont\r\n    });\r\n\r\n    translatedTxt.setLanguage(this.getSavedLanguage());\r\n    return (\r\n      <footer className={footerClasses}>\r\n        <div className={classes.container}>\r\n          <div className={classes.left}>\r\n            <ul className={classes.list}>\r\n              <li className={classes.inlineBlock}>\r\n                <a\r\n                  href=\"https://www.gnitic.com/\"\r\n                  className={classes.block}\r\n                  target=\"_blank\"\r\n                >\r\n                  Gnitic\r\n              </a>\r\n              </li>\r\n              <li className={classes.inlineBlock}>\r\n                <a\r\n                  href=\"/about-us\"\r\n                  className={classes.block}\r\n                  target=\"_blank\"\r\n                >\r\n                  {translatedTxt.AboutUs}\r\n                </a>\r\n              </li>\r\n\r\n              {/* /}\r\n                <ListItem className={classes.inlineBlock}>\r\n                  <a\r\n                    href=\"http://impotx.com/FAQ\"\r\n                    className={classes.block}\r\n                    target=\"_blank\"\r\n                  >\r\n                {translatedTxt.FAQ}\r\n              </a>\r\n                </ListItem>\r\n                {/* */}\r\n\r\n              <li className={classes.inlineBlock}>\r\n                <select\r\n                  native\r\n                  className={classes.inheritColor}\r\n                  style={{ width: \"100%\", padding:\"0px 0px 0px 10px\" }}\r\n                  value={this.state.language}\r\n                  onChange={this.handleChange('language')}\r\n                  inputProps={{\r\n                    name: 'language',\r\n                    id: 'pref-lang',\r\n                  }}\r\n                >\r\n                  <option value=\"\">Langue</option>\r\n                  <option value=\"fr\">Français</option>\r\n                  <option value=\"en\">English</option>\r\n                </select>\r\n              </li>\r\n\r\n            </ul>\r\n          </div>\r\n          <div className={classes.right}>\r\n            &copy; {1900 + new Date().getYear()} , {translatedTxt.MadeBy}\r\n            <a\r\n              href={process.env.REACT_APP_SERVER_URL}\r\n              className={aClasses}\r\n              target=\"_blank\"\r\n            >\r\n              Gnitic\r\n          </a>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nFooter.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  whiteFont: PropTypes.bool\r\n};\r\n\r\nexport default (Footer);\r\n","import React from \"react\"; \r\nimport classNames from \"classnames\"; \r\nimport PropTypes from \"prop-types\";  \r\n \r\nimport parallaxStyle from \"assets/jss/material-kit-react/components/parallaxStyle.jsx\";  \r\n\r\nclass Parallax extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {  scrollTopRatio: 0  };\r\n\r\n    this.resetTransform = this.resetTransform.bind(this);\r\n    this.getScrollRatio = this.getScrollRatio.bind(this);\r\n\r\n    var windowScrollTop = window.pageYOffset / this.getScrollRatio();\r\n    this.state = {\r\n      transform: \"translate3d(0,\" + windowScrollTop + \"px,0)\",\r\n      scrollTopRatio:0\r\n    };\r\n  }\r\n  getScrollRatio(){\r\n    var scrollBonusRatio = this.state.scrollTopRatio || 0;\r\n    var target = this.props.shrinkTarget|| 0;\r\n    \r\n    return this.props.parallaxRatio * ( 1 + scrollBonusRatio * target);\r\n  }\r\n  componentDidMount() {\r\n    var windowScrollTop = window.pageYOffset / this.getScrollRatio();\r\n\r\n    this.setState({\r\n      transform: \"translate3d(0,\" + windowScrollTop + \"px,0)\"\r\n    });\r\n    window.addEventListener(\"scroll\", this.resetTransform);\r\n\r\n    if (this.props.shrinkTarget && this.props.shrinkDuration) {\r\n      var that = this;\r\n      var shrinkStartId = setTimeout(() => {\r\n        var startTime = Date.now();\r\n        clearTimeout(shrinkStartId);\r\n        var shrinkAnim = setInterval(\r\n          () => {\r\n\r\n            var ratioDone = (Date.now() - startTime) / that.props.shrinkDuration;\r\n            if (ratioDone > 1) {\r\n              ratioDone = 1;\r\n              clearInterval(shrinkAnim);\r\n            }\r\n            \r\n            that.setState({scrollTopRatio: ratioDone * that.props.shrinkTarget}\r\n              );\r\n              that.resetTransform();\r\n          },\r\n          1000 / 60\r\n        );\r\n      },\r\n        this.props.shrinkDelay || 0)\r\n\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"scroll\", this.resetTransform);\r\n  }\r\n\r\n  resetTransform() {\r\n    var windowScrollTop = window.pageYOffset / this.getScrollRatio();\r\n    this.setState({\r\n      transform: \"translate3d(0,\" + windowScrollTop + \"px,0)\"\r\n    });\r\n  }\r\n\r\n  //Vert pale : #01a54e\r\n  //Vert foncer : #00612e\r\n\r\n  render() {\r\n    let {\r\n      classes,\r\n      filter,\r\n      className,\r\n      children,\r\n      style,\r\n      image,\r\n      small,\r\n      xsmall,\r\n      withGreen\r\n    } = this.props;\r\n    \r\n    if (classes == null ) classes = {};     \r\n    //    backgroundImage: \"url(\" + utils.toWebP(image) + \")\",\r\n    const parallaxClasses = classNames({\r\n      [classes.parallax]: true,\r\n      [classes.filter]: filter,\r\n      [classes.small]: small,\r\n      [classes.xsmall]: xsmall,\r\n      [className]: className !== undefined\r\n    });\r\n    return (\r\n      <>\r\n      <div\r\n        className={parallaxClasses}\r\n        style={{\r\n          ...style,\r\n          backgroundImage: \"url(\" + image + \")\",\r\n          ...this.state\r\n        }}\r\n        ref=\"parallax\"\r\n      >\r\n\r\n        {children}\r\n      </div>\r\n      {withGreen && \r\n      <div style={{\r\n        background:\"linear-gradient(to right, RGBA(78,166,79,1) 0%,RGBA(42,97,47,1) 100%)\",\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: 0,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        textAlign: \"left\",\r\n        zIndex:1}} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\nParallax.defaultProps = {\r\n  parallaxRatio: 3\r\n};\r\n\r\nParallax.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  filter: PropTypes.bool,\r\n  children: PropTypes.node,\r\n  style: PropTypes.string,\r\n  image: PropTypes.string,\r\n  shrinkTarget: PropTypes.number,\r\n  shrinkDelay: PropTypes.number,\r\n  shrinkDuration: PropTypes.number,\r\n  parallaxRatio: PropTypes.number\r\n};\r\n\r\nexport default (Parallax);\r\n","var rng = require('./lib/rng');\n\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;"],"sourceRoot":""}