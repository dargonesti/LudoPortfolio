{"version":3,"sources":["views/InspirationPage/InspirationPage.jsx","utils/compress.js","utils/utils.js","utils/DataAccess/DALimpotx.js","utils/DataAccess/localData.js","HoC/allowRedirect.jsx","HoC/impoHOC.js"],"names":["Components","_this$props","this","props","classes","Object","F_Code_GitHub_LudoPortfolio_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","classNames","main","mainRaised","href","React","Component","impoHOC","canvasEncode","_x","_x2","_x3","_canvasEncode","apply","arguments","_callee4","shouldCompress","file","cb","quality","type","_args4","regenerator_default","wrap","_context4","prev","next","length","undefined","abrupt","Promise","_ref","asyncToGenerator","mark","_callee3","resolve","reject","img","canvasCopy","copyContext","_context3","Image","document","getContext","onload","_callee2","blob","dataUrl","result","outputType","binaryStr","data","i","_context2","width","height","drawImage","toBlob","_ref3","_callee","_context","utils","log","stop","_x6","toDataURL","exec","atob","Uint8Array","charCodeAt","Blob","src","preview","_x4","_x5","reponses","questions","lstIdentityQuestionIdPerso","listeners","callEvent","event","params","values","forEach","_evDebouncer","thSet","debounce","that","_unmounted","setState","_debouncedState","leading","trailing","toWebP","imgUrl","canUseWebP","imgParts","split","pop","push","join","cached","localData","getStorage","elem","indexOf","setStorage","test","isDev","process","console","__webpack_exports__","groupBy","xs","key","reduce","rv","x","downloadCSV","args","filename","link","csv","ctr","keys","columnDelimiter","lineDelimiter","item","convertArrayOfObjectsToCSV","match","encodeURI","setAttribute","click","isProd","str","isChatActive","isAnneesActive","isDocsActive","escapeRegExp","string","replace","replaceBR","newStr","ret","react_default","Fragment","replaceA","reg","arr","splited","txt","target","isNumeric","n","isNaN","parseFloat","isFinite","combineUrl","path1","path2","error","endsWith","startsWith","subString","memorySizeOf","obj","bytes","toFixed","formatByteSize","sizeOf","objClass","prototype","toString","call","slice","hasOwnProperty","lateEnoughAfterNo","Date","now","sec","testPermission","cbPrompt","cbGranted","cbDenied","_this","navigator","permissions","query","name","then","res","state","refreshQuestions","pQuestions","Array","isArray","qst","idperso","refreshReponses","reps","DAL","getReponses","rep","question","QuestionIdPersoToChoixRep","questionIdPerso","def","qstACharge","_id","choixdereponse","find","ch","parseInt","texte","urlBase64ToUint8Array","base64String","base64","repeat","rawData","window","outputArray","keepOnlyLatestRep","existingRep","sort","b","createdAt","filter","exists","some","annee","stableSort","array","cmp","stabilizedThis","map","el","index","order","filtreOnlyIdentityQuestion","isIdentityQuestion","repString","getReponse","id","reptype","date","numero","repToString","tryAndTryAgain","fn","delay","callback","ex","getCatTitre","getDepenses","dep","getFeuillets","titre","myCompare","obj1","obj2","lstParams","every","param","pdfUrlReform","url","isPDF","substring","addListener","removeListener","throttledCallEvent","ev","val","value","throttledSetState","objectSpread","getFB","fbData","k","shorterString","len","endChar","todo","utils_utils__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","utils_DataAccess_DALimpotx_js__WEBPACK_IMPORTED_MODULE_1__","_ongoingQueries","storage","clearCache","_cache","clearStorage","localStorage","getItem","removeItem","clearAppStorage","clear","get","nullValue","set","JSON","parse","setItem","stringify","checkLocalDataAdmin","cacheName","DALfn","getQuestions","allowRedirect","WrappedComponent","PageName","_React$Component","inherits","_class","_super","_createSuper","classCallCheck","handleRedirect","bind","assertThisInitialized","createClass","redirect","_this2","forceUpdate","Redirect","to","assign","setRedirect","mergedHOC","rawComp","p2","p3"],"mappings":"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","file":"static/js/6.9d4235bc.chunk.js","sourcesContent":["import React from \"react\";\r\nimport impoHOC from \"HoC/impoHOC.js\";\r\n// nodejs library that concatenates classes\r\nimport classNames from \"classnames\"; \r\n\r\nclass Components extends React.Component {\r\n\r\n  render() {\r\n    let { classes, ...rest } = this.props;\r\n    classes = {};\r\n    /*Header Prop : changeColorOnScroll={{\r\n            height: 400,\r\n            color: \"white\"\r\n          }}*/\r\n    return (\r\n      <div>\r\n       \r\n\r\n        <div className={classNames(classes.main, classes.mainRaised)}>\r\n          <ul>\r\n\r\n            <li><a href=\"https://www.akufen.ca/\">Akufen.ca, minimalist, good mobile </a></li>\r\n            <li><a href=\"https://fwa100.jam3.com/\">FWA100, Minimalist, animated Intro with Gradient ( but just a 3js demo )</a></li>\r\n            <li><a href=\"https://www.madeleinedalla.com/\">Madeleine Dalla by Marvin Schwaibold ( Photo protfolio )</a></li>\r\n            \r\n            <li><a href=\"https://studiochevojon.com/\">Studio ChevoJon by Pam Studio ( Photo protfolio, minimalist, paralax )</a></li>\r\n            <li><a href=\"https://codesandbox.io/s/nwq4j1j6lm?from-embed\">Sweet Paralax Demo by Springs</a></li>\r\n\r\n          </ul>\r\n        </div> \r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default (impoHOC(Components, \"Components\"));\r\n","\r\nimport utils from './utils';\r\n\r\nexport async function canvasEncode(shouldCompress, file, cb, quality = 25, type = \"image/jpeg\") {\r\n  return new Promise(async (resolve, reject) => {\r\n    if (!shouldCompress) {\r\n      await cb(file);\r\n      resolve();\r\n      return;\r\n    } else {\r\n      var img = new Image();\r\n      var canvasCopy = document.createElement(\"canvas\");\r\n      var copyContext = canvasCopy.getContext(\"2d\");\r\n\r\n      img.onload = async function () {\r\n\r\n        canvasCopy.width = img.width;\r\n        canvasCopy.height = img.height;\r\n        copyContext.drawImage(img, 0, 0);\r\n\r\n\r\n        let blob;\r\n\r\n        if ('toBlob' in canvasCopy) {\r\n          canvasCopy.toBlob(async (blob) => {\r\n            utils.log(blob);\r\n\r\n            await cb(blob);\r\n            resolve();\r\n          }, type, quality / 100);\r\n        } else {\r\n          // Welcome to Edge.\r\n          // TypeScript thinks `canvas` is 'never', so it needs casting. => (canvas as HTMLCanvasElement).toDataURL(type, quality);\r\n          const dataUrl = canvasCopy.toDataURL(type, quality / 100);\r\n          const result = /data:([^;]+);base64,(.*)$/.exec(dataUrl);\r\n\r\n          const outputType = result[1];\r\n          const binaryStr = atob(result[2]);\r\n          const data = new Uint8Array(binaryStr.length);\r\n\r\n          for (let i = 0; i < data.length; i += 1) {\r\n            data[i] = binaryStr.charCodeAt(i);\r\n          }\r\n\r\n          blob = new Blob([data], { type: outputType });\r\n          cb(blob);\r\n         resolve();\r\n        }\r\n      };\r\n      img.src = file.preview;\r\n    }\r\n  });\r\n}\r\n\r\nexport default {\r\n  canvasEncode\r\n};","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\nimport React from \"react\";\r\n\r\nimport debounce from \"lodash.debounce\";\r\n\r\nimport DAL from \"utils/DataAccess/DALimpotx.js\";\r\nimport localData from \"utils/DataAccess/localData.js\";\r\n\r\nimport { canvasEncode } from \"./compress\";\r\n\r\nvar reponses = {};\r\nvar questions = {};\r\n\r\n\r\nfunction refreshReponses() {\r\n  var reps = DAL.getReponses();\r\n  reponses = {};\r\n  if (reps) {\r\n    reponses = reps.reduce((ret, rep) => {\r\n      ret[rep.question] = rep;\r\n      return ret;\r\n    }, {});\r\n  }\r\n}\r\n\r\nfunction refreshQuestions(pQuestions) {\r\n  if (Array.isArray(pQuestions)) {\r\n    questions = pQuestions.reduce((ret, qst) => {\r\n      ret[qst.idperso] = qst;\r\n      return ret;\r\n    }, {});\r\n  } else {\r\n    questions = pQuestions;\r\n  }\r\n}\r\n\r\nfunction QuestionIdPersoToChoixRep(questionIdPerso, def) {\r\n  var ret = def;\r\n  var qstACharge = questions[questionIdPerso];\r\n  if (qstACharge) {\r\n    var rep = reponses[qstACharge._id]; // Contient l'id de la réponse mais pas le texte\r\n    if (rep) {\r\n      rep = qstACharge.choixdereponse.find(ch => ch._id === rep.choixdereponse);\r\n      if (rep) {\r\n        if (\"np-personnes-a-charge\" === questionIdPerso)\r\n          ret = parseInt(rep.texte, 10);\r\n        else\r\n          ret = rep.texte;\r\n      }\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction urlBase64ToUint8Array(base64String) {\r\n  const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\r\n  const base64 = (base64String + padding)\r\n    .replace(/-/g, \"+\")\r\n    .replace(/_/g, \"/\");\r\n\r\n  const rawData = window.atob(base64);\r\n  const outputArray = new Uint8Array(rawData.length);\r\n\r\n  for (let i = 0; i < rawData.length; ++i) {\r\n    outputArray[i] = rawData.charCodeAt(i);\r\n  }\r\n  return outputArray;\r\n}\r\n\r\nfunction keepOnlyLatestRep(reponses) {\r\n  var existingRep = {};\r\n  var rep2 = reponses\r\n    .sort((a, b) => b.createdAt < a.createdAt ? -1 : 1);\r\n  var rep3 = rep2\r\n    .filter(rep => {\r\n      if (!(rep.question in existingRep))\r\n        existingRep[rep.question] = [];\r\n\r\n      var exists = existingRep[rep.question].some(annee => annee == rep.annee);\r\n      if (!exists) {\r\n        existingRep[rep.question].push(rep.annee)\r\n      }\r\n\r\n      return !exists;\r\n    });\r\n  return rep3;\r\n}\r\n\r\nfunction stableSort(array, cmp) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = cmp(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map(el => el[0]);\r\n}\r\n\r\n\r\nconst lstIdentityQuestionIdPerso = [\r\n  \"user-last-name\",\r\n  \"user-first-name\",\r\n  \"user-no-nas\",\r\n  \"corresp-language\",\r\n  \"user-moyen-de-comm\",\r\n  \"user-sex\",\r\n  \"user-tel-day\",\r\n  \"user-tel-evening\",\r\n  //adresse,\r\n];\r\n\r\n//const identityQuestionTitreRegex = RegExp(\"(\" + lstIdentityQuestionTitre.join(\"|\") + \")\", \"i\");\r\n\r\nfunction isIdentityQuestion(question) {\r\n  return lstIdentityQuestionIdPerso.indexOf(question.idperso) >= 0;\r\n  //return question.titre.match(identityQuestionTitreRegex);\r\n}\r\n\r\nfunction filtreOnlyIdentityQuestion(questions) {\r\n  return questions.filter(question => isIdentityQuestion(question))\r\n    .map(qst => {\r\n      qst.repString = repToString(qst);\r\n      return qst;\r\n    });\r\n}\r\n\r\nfunction repToString(question) {\r\n  var rep = DAL.getReponse(question.id);\r\n  var ret = \"\";\r\n  if (rep) {\r\n    if (question.choixdereponse && question.choixdereponse.length > 0) {\r\n      rep = question.choixdereponse.find(ch => ch.id === rep.choixdereponse);\r\n      ret = rep ? rep.texte : \"\";\r\n    }\r\n    else if (question.reptype === 1)\r\n      ret = rep.texte;\r\n    else if (question.reptype === 3)\r\n      ret = rep.date;\r\n    else if (question.reptype > 3)\r\n      ret = rep.numero + \"\";\r\n  }\r\n\r\n  if (ret.length === 0) return <i>non répondu</i>;\r\n\r\n  return ret;\r\n}\r\n\r\n\r\nfunction sortDate(a, b) {\r\n  return b.t > a.t ? -1 : 1;\r\n}\r\n\r\nfunction groupBy(xs, key) {\r\n  return xs.reduce(function (rv, x) {\r\n    (rv[x[key]] = rv[x[key]] || []).push(x);\r\n    return rv;\r\n  }, {});\r\n}\r\n\r\nfunction tryAndTryAgain(fn, delay, callback) {\r\n  if (!(delay)) delay = 123;\r\n  try {\r\n    if (callback) callback(fn());\r\n    else fn();\r\n  } catch (ex) {\r\n    var fnApplyStyle = () => {\r\n      setTimeout(() => {\r\n        try {\r\n          if (callback) callback(fn());\r\n          else fn();\r\n        } catch (ex) {\r\n          fnApplyStyle();\r\n        }\r\n      }, delay);\r\n    }\r\n  }\r\n}\r\n\r\nfunction myCompare(obj1, obj2, lstParams) {\r\n  return lstParams.every(param => obj1[param] == obj2[param]);\r\n  // TODO : allow to recurse compare children Objects\r\n}\r\n\r\nconst getCatTitre = id => (DAL.getDepenses().find(dep => dep.idperso == id)\r\n  || DAL.getFeuillets().find(dep => dep.idperso == id)\r\n  || { titre: id })\r\n  .titre;\r\n\r\n\r\n//CHANGE LANG LISTENERS\r\nvar listeners = {};\r\nfunction addListener(event, id, callback) {\r\n  if (!(event in listeners)) listeners[event] = {};\r\n  listeners[event][id] = callback;\r\n}\r\nfunction removeListener(event, id) {\r\n  if (event in listeners) {\r\n    delete listeners[event][id];\r\n  }\r\n}\r\nfunction callEvent(event, params) {\r\n  if (event in listeners) {\r\n    Object.values(listeners[event])\r\n      .forEach(cb => {\r\n        cb(params);\r\n      });\r\n  }\r\n}\r\n\r\nlet _evDebouncer = {};\r\nlet throttledCallEvent = (ev, val) => {\r\n  if (!_evDebouncer[ev])\r\n    _evDebouncer[ev] = debounce((value) => {\r\n      callEvent(ev, value);\r\n    }, 500, { leading: true, trailing: true });\r\n  _evDebouncer[ev](val);\r\n};\r\n\r\nvar thSet = debounce((that) => {\r\n    if(that._unmounted) return;\r\n    that.setState(that._debouncedState);\r\n    that._debouncedState = {}; \r\n}, 100, { leading: false, trailing: true });\r\n\r\nfunction throttledSetState(param) {\r\n  this._debouncedState = this._debouncedState || {};\r\n  this._debouncedState = { ...this._debouncedState, ...param };\r\n  thSet(this);\r\n}\r\n\r\nfunction testPermission(cbPrompt, cbGranted, cbDenied) {\r\n\r\n  if (navigator &&\r\n    navigator.permissions &&\r\n    navigator.permissions.query) {\r\n    navigator.permissions\r\n      .query({ name: \"notifications\" })\r\n      .then(res => {\r\n        this.log(\"Notifications : \" + res.state);\r\n        if (res.state === 'prompt') {\r\n          if (cbPrompt)\r\n            cbPrompt();\r\n        } else if (res.state === 'granted') {\r\n          if (cbGranted)\r\n            cbGranted();\r\n        }\r\n        else {\r\n          if (cbDenied)\r\n            cbDenied();\r\n        }\r\n      });\r\n  } else if (cbDenied) {\r\n    cbDenied();\r\n  }\r\n}\r\n\r\nfunction lateEnoughAfterNo() {\r\n  const sec = 1000;\r\n  const secInMin = 60;\r\n  const mininH = 60;\r\n  const HinD = 24;\r\n  const lastSaidNo = localData.getStorage(\"saidNoNotif\");\r\n  return !(lastSaidNo > Date.now() - sec * secInMin * mininH * HinD * 7);\r\n}\r\n\r\nfunction memorySizeOf(obj) {\r\n  var bytes = 0;\r\n\r\n  function sizeOf(obj) {\r\n    if (obj !== null && obj !== undefined) {\r\n      // eslint-disable-next-line\r\n      switch (typeof obj) {\r\n        case 'number':\r\n          bytes += 8;\r\n          break;\r\n        case 'string':\r\n          bytes += obj.length * 2;\r\n          break;\r\n        case 'boolean':\r\n          bytes += 4;\r\n          break;\r\n        case 'object':\r\n          var objClass = Object.prototype.toString.call(obj).slice(8, -1);\r\n          if (objClass === 'Object' || objClass === 'Array') {\r\n            for (var key in obj) {\r\n              if (!obj.hasOwnProperty(key)) continue;\r\n              sizeOf(obj[key]);\r\n            }\r\n          } else bytes += obj.toString().length * 2;\r\n          break;\r\n      }\r\n    }\r\n    return bytes;\r\n  };\r\n\r\n  function formatByteSize(bytes) {\r\n    if (bytes < 1024) return bytes + \" bytes\";\r\n    else if (bytes < 1048576) return (bytes / 1024).toFixed(3) + \" KiB\";\r\n    else if (bytes < 1073741824) return (bytes / 1048576).toFixed(3) + \" MiB\";\r\n    else return (bytes / 1073741824).toFixed(3) + \" GiB\";\r\n  };\r\n\r\n  return formatByteSize(sizeOf(obj));\r\n};\r\n\r\nfunction combineUrl(path1, path2) {\r\n  if (typeof (path1) !== \"string\" || typeof (path2) !== \"string\") {\r\n    console.error(\"Should be 2 strings to combine\");\r\n  }\r\n  if (path1.endsWith(\"/\")) {\r\n    if (path2.startsWith(\"/\"))\r\n      return path1 + path2.subString(1, path2.length);\r\n    else\r\n      return path1 + path2;\r\n  }\r\n  else {\r\n    if (path2.startsWith(\"/\"))\r\n      return path1 + path2;\r\n    else\r\n      return path1 + \"/\" + path2;\r\n  }\r\n}\r\n\r\nfunction isPDF(url) {\r\n  return url && /.*pdf/gi.test(url);\r\n}\r\n\r\nfunction pdfUrlReform(url) {\r\n  if (isPDF(url)) {\r\n    return url.substring(0, url.length - 3) + \"png\";\r\n  }\r\n  return url;\r\n}\r\n\r\nfunction isNumeric(n) {\r\n  return !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\n\r\nfunction toWebP(imgUrl) {\r\n  if (canUseWebP() && imgUrl) {\r\n    var imgParts = imgUrl.split(\".\");\r\n    imgParts.pop();\r\n    imgParts.push(\"webp\");\r\n    return imgParts.join(\".\");\r\n  }\r\n  return imgUrl;\r\n}\r\n\r\nfunction canUseWebP() {\r\n  var cached = localData.getStorage(\"SupportWebP\");\r\n  if (cached == null) {\r\n    var elem = document.createElement('canvas');\r\n\r\n    if (!!(elem.getContext && elem.getContext('2d'))) {\r\n      // was able or not to get WebP representation\r\n      cached = (elem.toDataURL('image/webp').indexOf('data:image/webp') == 0) ? \"yes\" : \"no\";\r\n      localData.setStorage(\"SupportWebP\", cached);\r\n    } else {\r\n      cached = \"no\";\r\n      localData.setStorage(\"SupportWebP\", cached);\r\n    }\r\n  }\r\n\r\n  return /yes/i.test(cached);\r\n}\r\n\r\nfunction replaceBR(str) {\r\n  var newStr = str.split(\"<br>\");\r\n  var ret = <>{newStr.pop()}</>;\r\n  while (newStr.length >= 1) {\r\n    ret = <>{newStr.pop()}<br />{ret}</>;\r\n  }\r\n  return ret;\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\r\nfunction replaceA(str){\r\n  let reg = /\\<a.*href=.(.*)\\\".*\\>(.*)<\\/a>/gi;\r\n\r\n  let arr = reg.exec(str);\r\n  //console.log(arr);\r\n\r\n  let splited = str.replace(reg, \"_a_\").split(\"_a_\");    \r\n  let ret = <></>;//<>{splited.pop()}</>;\r\n\r\n  if(splited.length >= 1){\r\n    while (splited.length >= 1 ) {\r\n      if( arr && arr.length > 2){\r\n        let txt = arr.pop();\r\n        let href = arr.pop();\r\n        let fullMatch = arr.pop();\r\n        ret = <>{<a href={href} target=\"_blank\">{txt}</a>}{splited.pop()}{ret}</>;\r\n      }else{\r\n        ret = <>{splited.pop()}{ret}</>;\r\n      }\r\n    }\r\n  }else{\r\n    ret = str;\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction escapeRegExp(string) {\r\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole  matched string\r\n}\r\n\r\nconst isDev = () => /^dev.*/gi.test(process.env.NODE_ENV);\r\nconst isProd = () => !isDev();\r\nconst log = (str) => {\r\n  if (isDev()) {\r\n    console.log(str);\r\n  }\r\n};\r\nconst isChatActive = () => /true/gi.test(process.env.REACT_APP_ACTIVATE_CHAT);\r\n\r\nfunction convertArrayOfObjectsToCSV(args) {\r\n  var result, ctr, keys, columnDelimiter, lineDelimiter, data;\r\n\r\n  data = args.data || null;\r\n  if (data == null || !data.length) {\r\n    return null;\r\n  }\r\n\r\n  columnDelimiter = args.columnDelimiter || ',';\r\n  lineDelimiter = args.lineDelimiter || '\\n';\r\n\r\n  keys = Object.keys(data[0]);\r\n\r\n  result = '';\r\n  result += keys.join(columnDelimiter);\r\n  result += lineDelimiter;\r\n\r\n  data.forEach(function (item) {\r\n    ctr = 0;\r\n    keys.forEach(function (key) {\r\n      if (ctr > 0) result += columnDelimiter;\r\n\r\n      result += item[key];\r\n      ctr++;\r\n    });\r\n    result += lineDelimiter;\r\n  });\r\n\r\n  return result;\r\n}\r\nfunction downloadCSV(args) {\r\n  var data, filename, link;\r\n  var csv = convertArrayOfObjectsToCSV({ data });\r\n  if (csv == null) return;\r\n\r\n  filename = args.filename || 'export.csv';\r\n\r\n  if (!csv.match(/^data:text\\/csv/i)) {\r\n    csv = 'data:text/csv;charset=utf-8,' + csv;\r\n  }\r\n  data = encodeURI(csv);\r\n\r\n  link = document.createElement('a');\r\n  link.setAttribute('href', data);\r\n  link.setAttribute('download', filename);\r\n  link.click();\r\n}\r\nconsole.log(\"Utils.toWebP : \" + toWebP(\"imgTest.jpg\"));\r\nexport default {\r\n  groupBy,\r\n  downloadCSV,\r\n  isProd,\r\n  isDev,\r\n  log,\r\n  isChatActive,\r\n  isAnneesActive : () => false,\r\n  isDocsActive : () => false,///true/gi.test(process.env.REACT_APP_ACTIVATE_DOCS),\r\n  escapeRegExp,\r\n  replaceBR,\r\n  replaceA,\r\n  toWebP,\r\n  canUseWebP,\r\n  isNumeric,\r\n  combineUrl,\r\n  memorySizeOf,\r\n  lateEnoughAfterNo,\r\n  testPermission,\r\n  refreshQuestions,\r\n  refreshReponses,\r\n  QuestionIdPersoToChoixRep: QuestionIdPersoToChoixRep,\r\n  urlBase64ToUint8Array: urlBase64ToUint8Array,\r\n  keepOnlyLatestRep: keepOnlyLatestRep,\r\n  stableSort: stableSort,\r\n  filtreOnlyIdentityQuestion: filtreOnlyIdentityQuestion, \r\n  tryAndTryAgain: tryAndTryAgain,\r\n  getCatTitre: getCatTitre,\r\n  myCompare: myCompare,\r\n\r\n  pdfUrlReform,\r\n\r\n  addListener,\r\n  removeListener,\r\n  callEvent,\r\n  throttledCallEvent,\r\n  throttledSetState,\r\n\r\n  getFB: (fbData, key) => {\r\n    (\"database.state.\"+key).split(\".\").forEach(k=>{\r\n      if(fbData) fbData = fbData[k];\r\n    });\r\n    return fbData;\r\n  },\r\n\r\n  shorterString: (str, len, endChar = 3) => {\r\n    if(str.length > len)\r\n      return str.slice(0,len-(3+endChar)) + \"...\" + str.slice(-endChar);\r\n    else\r\n      return str;\r\n  },\r\n\r\n  canvasEncode\r\n};","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\n \r\n\r\n// Consider memoize libraries : https://itnext.io/how-i-wrote-the-worlds-fastest-react-memoization-library-535f89fc4a17\r\n// Here : https://github.com/theKashey/memoize-state\r\nconst DAL =  {\r\n  todo:\"All this\"\r\n} \r\n\r\n\r\nexport default DAL;\r\n","/*eslint eqeqeq:0*/\r\n/*eslint no-mixed-operators:0*/\r\n\r\nimport utils from \"utils/utils\";\r\nimport DAL from \"utils/DataAccess/DALimpotx.js\";\r\n\r\n// Consider memoize libraries : https://itnext.io/how-i-wrote-the-worlds-fastest-react-memoization-library-535f89fc4a17\r\n// Here : https://github.com/theKashey/memoize-state\r\n\r\nvar _ongoingQueries = {};\r\n\r\nconst storage = {\r\n\r\n  clearCache(key) {\r\n    if (this._cache)\r\n      delete this._cache[key];\r\n  },\r\n\r\n  clearStorage(key) {\r\n    this.clearCache(key);\r\n\r\n    if (localStorage && localStorage.getItem(key)) {\r\n      return localStorage.removeItem(key);\r\n    }\r\n  },\r\n\r\n  clearAppStorage() {\r\n    this._cache = {};\r\n\r\n    if (localStorage) {\r\n      localStorage.clear();\r\n    }\r\n  },\r\n\r\n  get(key, nullValue) {\r\n    if (this._cache == null) this._cache = {};\r\n    if (this._cache[key] === null)\r\n      return nullValue;\r\n    return this._cache[key];\r\n  },\r\n\r\n  set(key, value) {\r\n    if (this._cache == null) this._cache = {};\r\n    this._cache[key] = value;\r\n  },\r\n\r\n  getStorage(key, nullValue) {\r\n    var ret = this.get(key);\r\n    if (ret) return ret;\r\n\r\n    if (localStorage) {\r\n      ret = localStorage.getItem(key);\r\n      if (ret) {\r\n        try {\r\n          ret = JSON.parse(ret);\r\n        } catch (ex) {\r\n          utils.log(ex);\r\n          ret = null;\r\n        }\r\n      }\r\n      this._cache[key] = ret;\r\n    }\r\n\r\n    if (ret === null)\r\n      return nullValue;\r\n    else\r\n      return ret;\r\n  },\r\n\r\n  setStorage(key, value) {\r\n    this.set(key, value);\r\n\r\n    if (localStorage) {\r\n      try{\r\n        localStorage.setItem(key, JSON.stringify(value));\r\n      }catch(ex){\r\n        console.error(ex);\r\n      }\r\n    }\r\n  },\r\n\r\n  checkLocalDataAdmin() {\r\n    //_checkAndGetDAL(\"getUsers\", DAL.getUsers);\r\n    _checkAndGetDAL(\"getQuestionsById\", DAL.getQuestions);\r\n  }\r\n\r\n}\r\n\r\nfunction _checkAndGetDAL(cacheName, DALfn) {\r\n  if (!(cacheName in localStorage) && !_ongoingQueries[cacheName]) {\r\n    DALfn(true)\r\n      .then(res => { delete _ongoingQueries[cacheName]; });\r\n    _ongoingQueries[cacheName] = Date.now();\r\n    utils.log(\"_check and get DAL : \" + cacheName + \" was not cached\");\r\n  }\r\n}\r\n\r\n\r\nexport default storage;\r\n","import React from \"react\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport utils from \"utils/utils\";\r\n\r\nfunction allowRedirect(WrappedComponent, PageName) {\r\n  return class extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n      };//remove comment\r\n\r\n      this.handleRedirect = this.handleRedirect.bind(this);\r\n    }\r\n\r\n    handleRedirect(target) {\r\n      this.setState({ redirect: target });\r\n    }\r\n\r\n    componentDidMount() {\r\n      utils.addListener(\"language\", PageName, (ev) => {\r\n        this.forceUpdate();\r\n      });\r\n    }\r\n    componentWillUnmount() {\r\n      utils.removeListener(\"language\", PageName);\r\n    }\r\n\r\n    render() {\r\n      if (this.state.redirect) {\r\n        return <Redirect to={this.state.redirect} />;\r\n      } else {\r\n        return <WrappedComponent setRedirect={this.handleRedirect} {...this.props} />;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nexport default allowRedirect;","import allowRedirect from \"./allowRedirect\";\r\n//import subscriptions from \"./subscriptions\";\r\n\r\nconst mergedHOC = (rawComp, PageName, p2, p3) => allowRedirect(rawComp, PageName);\r\n//subscriptions(allowRedirect(rawComp), p1,p2,p3);\r\n\r\nexport default mergedHOC;"],"sourceRoot":""}